{"ast":null,"code":"var _jsxFileName = \"/Users/gareth/Desktop/Sean/monkeypuzzle/monkeypuzzle/src/Components/ResourcePane.js\";\nimport React, { Component } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons';\nimport Modal from './Modal';\nimport Button from './MyButton';\nimport ResourcePaneTabContent from './resourcePaneTabContent';\n\nclass ResourcePane extends Component {\n  constructor(props) {\n    super(props);\n    this.newResourceModal = {\n      trigger: {\n        triggerText: React.createElement(FontAwesomeIcon, {\n          icon: faPlusSquare,\n          size: \"lg\",\n          color: \"#cbc5c1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }),\n        className: 'add_tab_button'\n      },\n      title: 'New Resource Pane',\n      content: React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Select a resource type\"), React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"resource_type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"Text\"))),\n      footer: {\n        className: 'btn btn-primary',\n        value: 'Add' // action: this.add_tab() \n\n      }\n    };\n    this.state = {\n      current_tab: 0,\n      last_number: 1,\n      tabs: [{\n        tab_id: 1\n      }, {\n        tab_id: 2\n      }, {\n        tab_id: 3\n      }, {\n        tab_id: 4\n      }]\n    };\n    this.onDismiss = this.onDismiss.bind(this);\n    this.set_active_tab = this.set_active_tab.bind(this);\n    this.add_tab = this.add_tab.bind(this);\n    this.add_resource = this.add_resource.bind(this);\n    this.new_uuid = this.new_uuid.bind(this);\n  }\n\n  onDismiss() {\n    console.log(\"hello\");\n  }\n\n  set_active_tab(tab_id) {\n    if (this.state.tabs.length > 0) {\n      this.state.current_tab = tab_id.substring(0, tab_id.indexOf(\"_body\"));\n      var i, tabcontent, tablinks;\n      tabcontent = document.getElementsByClassName(\"resource_pane_tab_content\");\n\n      for (i = 0; i < tabcontent.length; i++) {\n        tabcontent[i].style.display = \"none\";\n      }\n\n      tablinks = document.getElementsByClassName(\"tablinks\");\n\n      for (i = 0; i < tablinks.length; i++) {\n        tablinks[i].className = tablinks[i].className.replace(\"active\", \"\");\n      }\n\n      if (document.getElementById(tab_id)) {\n        document.getElementById(tab_id).style.display = \"block\";\n        document.getElementById(this.state.current_tab + \"_btn\").className += \" active\";\n      }\n    }\n  }\n\n  add_tab(load_id = null) {\n    if (load_id == null) {\n      var new_resource = this.add_resource(' ');\n      tab_id = new_resource.id;\n      add_resource_metadata(tab_id, 'title', '');\n      localStorage.setItem(\"state\", JSON.stringify(get_sd()));\n    } else {\n      tab_id = load_id;\n    }\n\n    add_resource_header();\n    var resource_type_idx = document.getElementById(\"resource_type\").options.selectedIndex;\n    var resource_type_txt = document.getElementById(\"resource_type\").options[resource_type_idx].text;\n\n    if (resource_type_txt.toLowerCase() === \"text\") {\n      add_text_resource_body(tab_id);\n    }\n\n    set_active_tab(tab_id + \"_body\");\n    return tab_id;\n  }\n\n  add_resource(content) {\n    /*\n    Create a new resource dict using the supplied content string\n    then add to the resourses list of the sadface doc\n     Returns: the new resource dict\n    */\n    if (content) {\n      var res = new_resource(content); //  sd.resources.push(res);\n\n      return res;\n    }\n  }\n\n  new_resource(content) {\n    /*\n    Given the supplied content (String), create a new resource dict\n     The arguments that SADFace describes are either constructed directly in a tool that writes\n    them to this format, or else are sourced from elsewhere, e.g. an argumentative text or\n    webpage, or else perhaps another medium, such as audio or video. Currently SADFace supports\n    textual resources which are stored in the content key. Optionally a \n        \"url\":\"some web location\"\n    pair can be added to the metadata to indicate a specific web location. Alternatively:\n        \"doi\":\"digital object identifier\" - resolvable by dx.doi.org\n        \"magnet-link\":\"a torrent file\"\n        \"isbn\":\"for books\"\n    Metadata may also store additional bibliographic or referencing/citation information\n    as defined in bibtex formats.\n     Returns: A dict representing the new SADFace resource\n    */\n    if (content) {\n      var new_resource = {\n        \"id\": new_uuid(),\n        \"content\": content,\n        \"type\": \"text\",\n        \"metadata\": {}\n      };\n      return new_resource;\n    }\n  } //uuid function from https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n\n\n  new_uuid() {\n    /*\n    Utility method to generate a new universally unique ID. Used througout to uniquely\n    identify various items such as atoms, schemes, resources, & edges\n     Returns: A string\n    */\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c => (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16));\n  }\n  /* New Resource Pane Type Selection Modal */\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"resource-pane\",\n      id: \"resource-pane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"resource_pane_tab_head\",\n      id: \"resource_pane_tab_head\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      modalProps: this.newResourceModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, this.state.tabs.map(item => {\n      const onHandleSetActiveTab = () => this.set_active_tab(item.tab_id + '_body');\n\n      return React.createElement(\"button\", {\n        key: item.tab_id,\n        id: item.tab_id + '_btn',\n        onClick: onHandleSetActiveTab,\n        type: \"button\",\n        className: \"tablinks\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, item.tab_id);\n    }))), React.createElement(\"div\", {\n      className: \"tab_body\",\n      id: \"tab_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.state.tabs.map(item => React.createElement(TabBody, {\n      tab_id: item.tab_id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nclass TabBody extends Component {\n  render() {\n    return React.createElement(\"div\", {\n      id: this.props.tab_id + \"_body\",\n      className: \"resource_pane_tab_content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default\",\n      onclick: \"remove_tab()\",\n      title: \"Remove this tab from the resource pane\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"load` + tab_id + `\",\n      style: {\n        display: \"none\"\n      },\n      accept: \".txt\",\n      onchange: \"filemanager('load','txt','` + tab_id + `')\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      id: \"load` + tab_id + `_btn\",\n      className: \"btn btn-default\",\n      onclick: \"$('#load` + tab_id + `').trigger('click');\",\n      title: \"Load a text file into this resource tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-upload fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default\",\n      onclick: \"filemanager('save','txt','` + tab_id + `')\",\n      title: \"Save this resource tab to a text file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-download fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      id: \"toggle_edit_lock_button\",\n      type: \"button\",\n      className: \"btn btn-default\",\n      title: \"Toggle editability of the content area\",\n      onclick: \"toggle_edit_lock();\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      id: \"toggle_edit_lock_icon_` + tab_id + `\",\n      className: \"fa fa-lock fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-default\",\n      title: \"Add node from text selection\",\n      onclick: \"new_atom_txt_resource_button();\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-puzzle-piece fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"textarea\", {\n      id: \"title_` + tab_id + `\",\n      type: \"text\",\n      rows: \"1\",\n      style: {\n        resize: \"none\"\n      },\n      className: \"form-control\",\n      placeholder: \"The name of this resource...\",\n      onchange: \"change_title('` + tab_id + `')\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, \"Content\"), React.createElement(\"div\", {\n      id: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"` + tab_id + `\",\n      className: \"form-control\",\n      placeholder: \"Enter your source text here...\",\n      rows: \"20\",\n      onchange: \"change_textarea('` + tab_id + `')\",\n      onfocus: \"set_focus(this)\",\n      style: {\n        resize: \"vertical\",\n        minHeight: \"35px\"\n      },\n      readonly: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default ResourcePane;","map":{"version":3,"sources":["/Users/gareth/Desktop/Sean/monkeypuzzle/monkeypuzzle/src/Components/ResourcePane.js"],"names":["React","Component","FontAwesomeIcon","faPlusSquare","Modal","Button","ResourcePaneTabContent","ResourcePane","constructor","props","newResourceModal","trigger","triggerText","className","title","content","footer","value","state","current_tab","last_number","tabs","tab_id","onDismiss","bind","set_active_tab","add_tab","add_resource","new_uuid","console","log","length","substring","indexOf","i","tabcontent","tablinks","document","getElementsByClassName","style","display","replace","getElementById","load_id","new_resource","id","add_resource_metadata","localStorage","setItem","JSON","stringify","get_sd","add_resource_header","resource_type_idx","options","selectedIndex","resource_type_txt","text","toLowerCase","add_text_resource_body","res","c","crypto","getRandomValues","Uint8Array","toString","render","map","item","onHandleSetActiveTab","TabBody","resize","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPlusSquare } from '@fortawesome/free-solid-svg-icons'\nimport Modal from './Modal';\nimport Button from './MyButton';\nimport ResourcePaneTabContent from './resourcePaneTabContent'\n \n\n\nclass ResourcePane extends Component {\n  constructor(props){\n    super(props);\n\n    this.state ={\n      current_tab: 0,\n      last_number: 1,\n      tabs: [{tab_id:1},\n              {tab_id:2},\n                {tab_id:3},\n                {tab_id:4}],\n    };\n\n\n   this.onDismiss = this.onDismiss.bind(this);\n\n   this.set_active_tab = this.set_active_tab.bind(this);\n    this.add_tab = this.add_tab.bind(this);\n    this.add_resource = this.add_resource.bind(this);\n    this.new_uuid = this.new_uuid.bind(this);\n\n  }\n  \nonDismiss(){\n  console.log(\"hello\");\n}\n\nset_active_tab(tab_id){\n  if(this.state.tabs.length > 0){\n      this.state.current_tab = tab_id.substring( 0, tab_id.indexOf(\"_body\") );\n      var i, tabcontent, tablinks;\n      tabcontent = document.getElementsByClassName(\"resource_pane_tab_content\");\n        for (i = 0; i < tabcontent.length; i++) {\n            tabcontent[i].style.display = \"none\";\n       }\n      tablinks = document.getElementsByClassName(\"tablinks\");\n        for (i = 0; i < tablinks.length; i++) {\n           tablinks[i].className = tablinks[i].className.replace(\"active\", \"\");\n      }\n    if (document.getElementById(tab_id)) {\n        document.getElementById(tab_id).style.display = \"block\";\n        document.getElementById(this.state.current_tab+\"_btn\").className += \" active\";\n    }\n    \n  }\n}\n\n add_tab(load_id=null) {\n  if (load_id == null) {\n      var new_resource = this.add_resource(' ');\n      tab_id = new_resource.id;\n      add_resource_metadata(tab_id, 'title', '');\n      localStorage.setItem(\"state\",JSON.stringify(get_sd()));\n  } \n    else { tab_id = load_id; }\n\n    add_resource_header();\n\n    var resource_type_idx = document.getElementById(\"resource_type\").options.selectedIndex;\n    var resource_type_txt = document.getElementById(\"resource_type\").options[resource_type_idx].text;\n    if (resource_type_txt.toLowerCase() === \"text\") { add_text_resource_body(tab_id); }\n\n    set_active_tab(tab_id+\"_body\");\n    return tab_id\n}\n\n\n add_resource(content) {\n    /*\n    Create a new resource dict using the supplied content string\n    then add to the resourses list of the sadface doc\n\n    Returns: the new resource dict\n    */\n    if (content) {\n        var res = new_resource(content);\n      //  sd.resources.push(res);\n        return res;\n    }\n}\n\n new_resource(content) {\n    /*\n    Given the supplied content (String), create a new resource dict\n\n    The arguments that SADFace describes are either constructed directly in a tool that writes\n    them to this format, or else are sourced from elsewhere, e.g. an argumentative text or\n    webpage, or else perhaps another medium, such as audio or video. Currently SADFace supports\n    textual resources which are stored in the content key. Optionally a \n        \"url\":\"some web location\"\n    pair can be added to the metadata to indicate a specific web location. Alternatively:\n        \"doi\":\"digital object identifier\" - resolvable by dx.doi.org\n        \"magnet-link\":\"a torrent file\"\n        \"isbn\":\"for books\"\n    Metadata may also store additional bibliographic or referencing/citation information\n    as defined in bibtex formats.\n\n    Returns: A dict representing the new SADFace resource\n    */\n    if (content) {\n        var new_resource = {\"id\":new_uuid(), \"content\":content, \"type\":\"text\", \"metadata\":{}};\n        return new_resource;\n    }\n}\n\n//uuid function from https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n new_uuid() {\n    /*\n    Utility method to generate a new universally unique ID. Used througout to uniquely\n    identify various items such as atoms, schemes, resources, & edges\n\n    Returns: A string\n    */\n    return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n        (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\n    );\n}\n\n      /* New Resource Pane Type Selection Modal */\n\n  newResourceModal = {\n    trigger: {\n      triggerText: <FontAwesomeIcon icon={faPlusSquare} size=\"lg\" color=\"#cbc5c1\"/>,\n      className: 'add_tab_button',\n    },\n    \n    title: 'New Resource Pane',\n    content:  <div className=\"modal-body\">\n                <p>Select a resource type</p>\n                <select className=\"form-control\" id=\"resource_type\">\n                    <option>Text</option>\n                </select>\n              </div>,\n    footer: {\n      className: 'btn btn-primary',\n      value: 'Add',\n     // action: this.add_tab() \n    }\n\n  };\n\n  \n\n  render(){\n    \n\n    return (\n      <div className=\"resource-pane\" id=\"resource-pane\">\n          <div className=\"resource_pane_tab_head\" id=\"resource_pane_tab_head\">\n\n              <Modal\n                  modalProps={this.newResourceModal}\n                 /> \n              <div>\n              {this.state.tabs.map(item =>{\n                const onHandleSetActiveTab = () =>\n                this.set_active_tab(item.tab_id+'_body');\n\n                  return (\n                    <button\n                      key={item.tab_id}\n                      id={item.tab_id+'_btn'}\n                      onClick = {onHandleSetActiveTab}\n                      type=\"button\"\n                      className=\"tablinks\"\n                    >\n                      {item.tab_id}\n                    </button>\n                  );\n                }                                                     \n                  )}\n                  \n              </div>\n          </div>\n          <div className=\"tab_body\" id=\"tab_body\">\n            {this.state.tabs.map(item =>\n                <TabBody \n                tab_id={item.tab_id}\n          />\n              )}\n          \n\n          </div>   \n\n\n     \n            </div>\n      \n      );\n  }\n}\n\n\n\n\nclass TabBody extends Component {\n  render(){\n    \n\n    return (\n\n        <div id={this.props.tab_id + \"_body\"} className=\"resource_pane_tab_content\">\n            <form>\n                <div className=\"form-group\">\n                        <button type=\"button\" className=\"btn btn-default\" onclick=\"remove_tab()\" title=\"Remove this tab from the resource pane\">\n                            <i className=\"fa fa-trash fa-fw fa-lg\"></i>\n                        </button>\n                        <input type=\"file\" id=\"load` + tab_id + `\" style={{display:\"none\"}} accept=\".txt\" onchange=\"filemanager('load','txt','` + tab_id + `')\"/>\n                        <button type=\"button\" id=\"load` + tab_id + `_btn\" className=\"btn btn-default\" onclick=\"$('#load` + tab_id + `').trigger('click');\" title=\"Load a text file into this resource tab\">\n                            <i className=\"fa fa-upload fa-fw fa-lg\"></i>\n                        </button>\n                        <button type=\"button\" className=\"btn btn-default\" onclick=\"filemanager('save','txt','` + tab_id + `')\" title=\"Save this resource tab to a text file\">\n                            <i className=\"fa fa-download fa-fw fa-lg\"></i>\n                        </button>\n                        <button id=\"toggle_edit_lock_button\" type=\"button\" className=\"btn btn-default\" title=\"Toggle editability of the content area\" onclick=\"toggle_edit_lock();\">\n                            <i id=\"toggle_edit_lock_icon_` + tab_id + `\" className=\"fa fa-lock fa-fw fa-lg\"></i>\n                        </button>\n                        <button type=\"button\" className=\"btn btn-default\" title=\"Add node from text selection\" onclick=\"new_atom_txt_resource_button();\">\n                            <i className=\"fa fa-puzzle-piece fa-fw fa-lg\"></i>\n                        </button>\n                </div>\n                <div class=\"form-group\">\n                    <label>Title</label>\n                    <textarea id=\"title_` + tab_id + `\" type=\"text\" rows=\"1\" style={{resize: \"none\"}} className=\"form-control\" placeholder=\"The name of this resource...\" onchange=\"change_title('` + tab_id + `')\"></textarea> \n                    <label>Content</label>\n                    <div id=\"textarea\">\n                        <textarea id=\"` + tab_id + `\" className=\"form-control\" placeholder=\"Enter your source text here...\" rows=\"20\" onchange=\"change_textarea('` + tab_id + `')\" onfocus=\"set_focus(this)\" style={{resize: \"vertical\", minHeight: \"35px\"}} readonly></textarea>\n                    </div>  \n                </div> \n            </form>\n        </div>\n      \n      );\n  }\n}\n\n\n\n\nexport default ResourcePane;"]},"metadata":{},"sourceType":"module"}
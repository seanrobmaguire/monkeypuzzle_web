{"ast":null,"code":"var _jsxFileName = \"/Users/gareth/Desktop/Sean/monkeypuzzle/monkeypuzzle/src/Components/Modal.js\";\nimport React, { Component } from 'react';\nimport ModalTrigger from './ModalTrigger';\nimport ModalContent from './ModalContent';\nexport class Modal extends Component {\n  constructor() {\n    super();\n\n    this.showModal = () => {\n      this.setState({\n        isShown: true\n      }, () => {\n        this.closeButton.focus();\n      });\n      this.toggleScrollLock();\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        isShown: false\n      });\n      this.TriggerButton.focus();\n      this.toggleScrollLock();\n    };\n\n    this.onKeyDown = event => {\n      if (event.keyCode === 27) {\n        this.closeModal();\n      }\n    };\n\n    this.onClickOutside = event => {\n      if (this.modal && this.modal.contains(event.target)) return;\n      this.closeModal();\n    };\n\n    this.toggleScrollLock = () => {\n      document.querySelector('html').classList.toggle('scroll-lock');\n    };\n\n    this.state = {\n      isShown: false\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(ModalTrigger, {\n      showModal: this.showModal,\n      buttonRef: n => this.TriggerButton = n,\n      triggerText: this.props.modalProps.triggerText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }), this.state.isShown ? React.createElement(ModalContent, {\n      modalRef: n => this.modal = n,\n      buttonRef: n => this.closeButton = n,\n      closeModal: this.closeModal,\n      content: this.props.modalContent,\n      onKeyDown: this.onKeyDown,\n      onClickOutside: this.onClickOutside,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }));\n  }\n\n}\nexport default Modal;","map":{"version":3,"sources":["/Users/gareth/Desktop/Sean/monkeypuzzle/monkeypuzzle/src/Components/Modal.js"],"names":["React","Component","ModalTrigger","ModalContent","Modal","constructor","showModal","setState","isShown","closeButton","focus","toggleScrollLock","closeModal","TriggerButton","onKeyDown","event","keyCode","onClickOutside","modal","contains","target","document","querySelector","classList","toggle","state","render","n","props","modalProps","triggerText","modalContent"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,OAAO,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AACnCI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAMdC,SANc,GAMF,MAAM;AAChB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd,EAAiC,MAAM;AACrC,aAAKC,WAAL,CAAiBC,KAAjB;AACD,OAFD;AAGA,WAAKC,gBAAL;AACD,KAXa;;AAAA,SAYdC,UAZc,GAYD,MAAM;AACjB,WAAKL,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKK,aAAL,CAAmBH,KAAnB;AACA,WAAKC,gBAAL;AACD,KAhBa;;AAAA,SAiBdG,SAjBc,GAiBFC,KAAK,IAAI;AACnB,UAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACxB,aAAKJ,UAAL;AACD;AACF,KArBa;;AAAA,SAsBdK,cAtBc,GAsBGF,KAAK,IAAI;AACxB,UAAI,KAAKG,KAAL,IAAc,KAAKA,KAAL,CAAWC,QAAX,CAAoBJ,KAAK,CAACK,MAA1B,CAAlB,EAAqD;AACrD,WAAKR,UAAL;AACD,KAzBa;;AAAA,SA2BdD,gBA3Bc,GA2BK,MAAM;AACvBU,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCC,MAAzC,CAAgD,aAAhD;AACD,KA7Ba;;AAEZ,SAAKC,KAAL,GAAa;AACXjB,MAAAA,OAAO,EAAE;AADE,KAAb;AAGD;;AAyBDkB,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AACE,MAAA,SAAS,EAAE,KAAKpB,SADlB;AAEE,MAAA,SAAS,EAAEqB,CAAC,IAAK,KAAKd,aAAL,GAAqBc,CAFxC;AAGE,MAAA,WAAW,EAAE,KAAKC,KAAL,CAAWC,UAAX,CAAsBC,WAHrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAMG,KAAKL,KAAL,CAAWjB,OAAX,GACC,oBAAC,YAAD;AACE,MAAA,QAAQ,EAAEmB,CAAC,IAAK,KAAKT,KAAL,GAAaS,CAD/B;AAEE,MAAA,SAAS,EAAEA,CAAC,IAAK,KAAKlB,WAAL,GAAmBkB,CAFtC;AAGE,MAAA,UAAU,EAAE,KAAKf,UAHnB;AAIE,MAAA,OAAO,EAAE,KAAKgB,KAAL,CAAWG,YAJtB;AAKE,MAAA,SAAS,EAAE,KAAKjB,SALlB;AAME,MAAA,cAAc,EAAE,KAAKG,cANvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAUC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,CADF;AAqBD;;AArDkC;AAwDrC,eAAeb,KAAf","sourcesContent":["import React, {Component} from 'react';\nimport ModalTrigger from './ModalTrigger';\nimport ModalContent from './ModalContent';\n\nexport class Modal extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isShown: false\n    };\n  }\n  showModal = () => {\n    this.setState({ isShown: true }, () => {\n      this.closeButton.focus();\n    });\n    this.toggleScrollLock();\n  };\n  closeModal = () => {\n    this.setState({ isShown: false });\n    this.TriggerButton.focus();\n    this.toggleScrollLock();\n  };\n  onKeyDown = event => {\n    if (event.keyCode === 27) {\n      this.closeModal();\n    }\n  };\n  onClickOutside = event => {\n    if (this.modal && this.modal.contains(event.target)) return;\n    this.closeModal();\n  };\n\n  toggleScrollLock = () => {\n    document.querySelector('html').classList.toggle('scroll-lock');\n  };\n  render() {\n    return (\n      <React.Fragment>\n        <ModalTrigger\n          showModal={this.showModal}\n          buttonRef={n => (this.TriggerButton = n)}\n          triggerText={this.props.modalProps.triggerText}\n        />\n        {this.state.isShown ? (\n          <ModalContent\n            modalRef={n => (this.modal = n)}\n            buttonRef={n => (this.closeButton = n)}\n            closeModal={this.closeModal}\n            content={this.props.modalContent}\n            onKeyDown={this.onKeyDown}\n            onClickOutside={this.onClickOutside}\n          />\n        ) : (\n          <React.Fragment />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n \nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}
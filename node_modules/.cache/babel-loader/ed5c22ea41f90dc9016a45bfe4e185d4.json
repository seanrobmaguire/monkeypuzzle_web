{"ast":null,"code":"var _jsxFileName = \"/Users/gareth/Desktop/monkeypuzzle/src/Components/Modal/Modal.js\";\nimport React, { Component } from 'react';\nimport ModalContent from './ModalContent';\nimport ModalTrigger from './ModalTrigger';\nimport './Modal.css';\nexport class Modal extends Component {\n  constructor() {\n    super();\n\n    this.showModal = () => {\n      this.setState({\n        isShown: true\n      }, () => {\n        this.closeButton.focus();\n      });\n      this.toggleScrollLock();\n    };\n\n    this.closeModal = () => {\n      this.setState({\n        isShown: false\n      });\n      this.TriggerButton.focus();\n      this.toggleScrollLock();\n    };\n\n    this.onKeyDown = event => {\n      if (event.keyCode === 27) {\n        this.closeModal();\n      }\n    };\n\n    this.onClickOutside = event => {\n      if (this.modal && this.modal.contains(event.target)) return;\n      this.closeModal();\n    };\n\n    this.toggleScrollLock = () => {\n      document.querySelector('html').classList.toggle('scroll-lock');\n    };\n\n    this.actionAndClose = () => {\n      this.props.onClick();\n      this.closeModal();\n    };\n\n    this.state = {\n      isShown: false\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(ModalTrigger, {\n      showModal: this.showModal,\n      buttonRef: n => this.TriggerButton = n,\n      triggerText: this.props.modalProps.trigger.triggerText,\n      className: this.props.modalProps.trigger.className,\n      id: this.props.modalProps.trigger.triggerId,\n      style: this.props.show,\n      title: this.props.modalProps.trigger.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), this.state.isShown ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(ModalContent, {\n      id: this.props.modalProps.id,\n      modalRef: n => this.modal = n,\n      buttonRef: n => this.closeButton = n,\n      closeModal: this.closeModal,\n      modalTitle: this.props.modalProps.modalTitle,\n      content: this.props.modalProps,\n      onKeyDown: this.onKeyDown,\n      onClickOutside: this.onClickOutside,\n      onClick: this.actionAndClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })) : React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }\n\n}\nexport default Modal;","map":{"version":3,"sources":["/Users/gareth/Desktop/monkeypuzzle/src/Components/Modal/Modal.js"],"names":["React","Component","ModalContent","ModalTrigger","Modal","constructor","showModal","setState","isShown","closeButton","focus","toggleScrollLock","closeModal","TriggerButton","onKeyDown","event","keyCode","onClickOutside","modal","contains","target","document","querySelector","classList","toggle","actionAndClose","props","onClick","state","render","n","modalProps","trigger","triggerText","className","triggerId","show","title","id","modalTitle"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,OAAO,aAAP;AAGA,OAAO,MAAMC,KAAN,SAAoBH,SAApB,CAA8B;AACnCI,EAAAA,WAAW,GAAG;AACZ;;AADY,SAMdC,SANc,GAMF,MAAM;AAChB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd,EAAiC,MAAM;AACrC,aAAKC,WAAL,CAAiBC,KAAjB;AACD,OAFD;AAGA,WAAKC,gBAAL;AACD,KAXa;;AAAA,SAYdC,UAZc,GAYD,MAAM;AACjB,WAAKL,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,WAAKK,aAAL,CAAmBH,KAAnB;AACA,WAAKC,gBAAL;AACD,KAhBa;;AAAA,SAiBdG,SAjBc,GAiBFC,KAAK,IAAI;AACnB,UAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACxB,aAAKJ,UAAL;AACD;AACF,KArBa;;AAAA,SAsBdK,cAtBc,GAsBGF,KAAK,IAAI;AACxB,UAAI,KAAKG,KAAL,IAAc,KAAKA,KAAL,CAAWC,QAAX,CAAoBJ,KAAK,CAACK,MAA1B,CAAlB,EAAqD;AACrD,WAAKR,UAAL;AACD,KAzBa;;AAAA,SA2BdD,gBA3Bc,GA2BK,MAAM;AACvBU,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,SAA/B,CAAyCC,MAAzC,CAAgD,aAAhD;AACD,KA7Ba;;AAAA,SA+BdC,cA/Bc,GA+BG,MAAM;AAErB,WAAKC,KAAL,CAAWC,OAAX;AACA,WAAKf,UAAL;AACD,KAnCa;;AAEZ,SAAKgB,KAAL,GAAa;AACXpB,MAAAA,OAAO,EAAE;AADE,KAAb;AAGD;;AA+BDqB,EAAAA,MAAM,GAAG;AAEP,WACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,YAAD;AACE,MAAA,SAAS,EAAE,KAAKvB,SADlB;AAEE,MAAA,SAAS,EAAEwB,CAAC,IAAK,KAAKjB,aAAL,GAAqBiB,CAFxC;AAGE,MAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWK,UAAX,CAAsBC,OAAtB,CAA8BC,WAH7C;AAIE,MAAA,SAAS,EAAE,KAAKP,KAAL,CAAWK,UAAX,CAAsBC,OAAtB,CAA8BE,SAJ3C;AAKE,MAAA,EAAE,EAAE,KAAKR,KAAL,CAAWK,UAAX,CAAsBC,OAAtB,CAA8BG,SALpC;AAME,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWU,IANpB;AAOE,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWK,UAAX,CAAsBC,OAAtB,CAA8BK,KAPvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAUG,KAAKT,KAAL,CAAWpB,OAAX,GACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA,oBAAC,YAAD;AACE,MAAA,EAAE,EAAE,KAAKkB,KAAL,CAAWK,UAAX,CAAsBO,EAD5B;AAEE,MAAA,QAAQ,EAAER,CAAC,IAAK,KAAKZ,KAAL,GAAaY,CAF/B;AAGE,MAAA,SAAS,EAAEA,CAAC,IAAK,KAAKrB,WAAL,GAAmBqB,CAHtC;AAIE,MAAA,UAAU,EAAE,KAAKlB,UAJnB;AAKE,MAAA,UAAU,EAAE,KAAKc,KAAL,CAAWK,UAAX,CAAsBQ,UALpC;AAME,MAAA,OAAO,EAAE,KAAKb,KAAL,CAAWK,UANtB;AAOE,MAAA,SAAS,EAAE,KAAKjB,SAPlB;AAQE,MAAA,cAAc,EAAE,KAAKG,cARvB;AASE,MAAA,OAAO,EAAE,KAAKQ,cAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADD,GAeC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzBJ,CADF;AA8BD;;AArEkC;AAwErC,eAAerB,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport ModalContent from './ModalContent';\nimport ModalTrigger from './ModalTrigger';\n\nimport './Modal.css';\n\n\nexport class Modal extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isShown: false\n    };\n  }\n  showModal = () => {\n    this.setState({ isShown: true }, () => {\n      this.closeButton.focus();\n    });\n    this.toggleScrollLock();\n  };\n  closeModal = () => {\n    this.setState({ isShown: false });\n    this.TriggerButton.focus();\n    this.toggleScrollLock();\n  };\n  onKeyDown = event => {\n    if (event.keyCode === 27) {\n      this.closeModal();\n    }\n  };\n  onClickOutside = event => {\n    if (this.modal && this.modal.contains(event.target)) return;\n    this.closeModal();\n  };\n\n  toggleScrollLock = () => {\n    document.querySelector('html').classList.toggle('scroll-lock');\n  };\n\n  actionAndClose = () => {\n    \n    this.props.onClick();\n    this.closeModal();\n  };\n  render() {\n    \n    return (\n      <React.Fragment>\n        <ModalTrigger\n          showModal={this.showModal}\n          buttonRef={n => (this.TriggerButton = n)}\n          triggerText={this.props.modalProps.trigger.triggerText}\n          className={this.props.modalProps.trigger.className}\n          id={this.props.modalProps.trigger.triggerId}\n          style={this.props.show}\n          title={this.props.modalProps.trigger.title}\n        />\n        {this.state.isShown ? (\n          <div>\n          <ModalContent\n            id={this.props.modalProps.id}\n            modalRef={n => (this.modal = n)}\n            buttonRef={n => (this.closeButton = n)}\n            closeModal={this.closeModal}\n            modalTitle={this.props.modalProps.modalTitle}\n            content={this.props.modalProps}\n            onKeyDown={this.onKeyDown}\n            onClickOutside={this.onClickOutside}\n            onClick={this.actionAndClose}\n          />\n          </div>\n        ) : (\n          <React.Fragment />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Modal;\n"]},"metadata":{},"sourceType":"module"}
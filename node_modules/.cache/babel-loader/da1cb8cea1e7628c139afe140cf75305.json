{"ast":null,"code":"var _jsxFileName = \"/Users/gareth/Desktop/monkeypuzzle/src/App.js\";\nimport React, { Component } from 'react';\nimport Slideout from 'slideout';\nimport ReactCytoscape from 'react-cytoscape'; //import Components\n\nimport ResourcePane from './Components/ResourcePane';\nimport MainUI from './Components/MainUI';\nimport Menu from './Components/Menu';\nimport Modal from './Components/Modal'; //import Test from './Test';\n\nimport './CSS/monkeypuzzle.css'; //import './CSS/font-awesome.min.css';\n\nimport './CSS/cytoscape-context-menus.css'; //import './CSS/jquery.qtip.min.css';\n//import './CSS/bootstrap.min.css';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './CSS/App.css'; //import fuctions from SADFACE\n\nimport { loadJSON, loadSADFace, saveSADFace, delete_source, delete_resource, get_sd, import_json, add_resource, export_cytoscape, new_uuid, add_resource_metadata } from './lib/Sadface';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tabs: [],\n      last_number: 0,\n      tab_id: \"\",\n      sd: get_sd(),\n      showResourcePane: true,\n      test: {},\n      current_tab: 0,\n      cy_data: null,\n      selected: '',\n      jpg: '',\n      png: '',\n      fileName: '',\n      json: '',\n      current_sadface_doc: '',\n      cy: null,\n      remove_all_tabs: false,\n      resourceType: ''\n    };\n    this.test = this.test.bind(this);\n    this.toggleButton = this.toggleButton.bind(this);\n    this.add_to_tabs_arr = this.add_to_tabs_arr.bind(this);\n    this.download = this.download.bind(this);\n    this.update_resource = this.update_resource.bind(this);\n    this.loadJSON = this.loadJSON.bind(this);\n    this.loadTabs = this.loadTabs.bind(this);\n    this.get_resource = this.get_resource.bind(this);\n    this.download = this.download.bind(this);\n    this.toggleResourcePane = this.toggleResourcePane.bind(this);\n    this.download_sadface = this.download_sadface.bind(this);\n    this.add_resource_metadata = this.add_resource_metadata.bind(this);\n    this.setActiveTab = this.setActiveTab.bind(this);\n    this.download = this.download.bind(this);\n    this.fileManager = this.fileManager.bind(this);\n    this.loadJSON = this.loadJSON.bind(this); //ResourcePane Functions\n\n    this.add_tab = this.add_tab.bind(this);\n    this.remove_tab = this.remove_tab.bind(this);\n    this.change_title = this.change_title.bind(this);\n    this.change_content = this.change_content.bind(this);\n    this.set_text_resource_content = this.set_text_resource_content.bind(this);\n    this.add_resource_header = this.add_resource_header.bind(this);\n    this.getType = this.getType.bind(this); //Menu\n\n    this.handleSetPng = this.handleSetPng.bind(this);\n    this.handleSetJpg = this.handleSetJpg.bind(this);\n    this.load_demo_argument = this.load_demo_argument.bind(this);\n    this.setFileName = this.setFileName.bind(this);\n  }\n\n  add_to_tabs_arr(tab_id) {\n    this.setState(state => {\n      const tabs = state.tabs.concat(tab_id);\n      return {\n        tabs\n      };\n    }, function () {\n      console.log(\"tabs\");\n    }.bind(this));\n  }\n\n  openAddBoardModal() {\n    this.setState({\n      boardAddModalShow: true\n    }, function () {\n      console.log(this.state.boardAddModalShow);\n    });\n  }\n\n  createNewTab() {}\n\n  add_tab(load_id = null) {\n    let newTab = {};\n\n    if (load_id == null) {\n      var new_resource = add_resource(' ');\n      newTab.tab_id = new_resource.id;\n      add_resource_metadata(newTab.tab_id, 'title', '');\n      localStorage.setItem(\"state\", JSON.stringify(get_sd()));\n      newTab.type = this.state.resourceType;\n      console.log(newTab);\n    } else {\n      newTab.tab_id = load_id;\n    }\n\n    this.add_resource_header(newTab);\n    var resource_type_idx = document.getElementById(\"resource_type\").options.selectedIndex;\n    console.log(resource_type_idx, 'resource_type_idx'); //var resource_type_txt = document.getElementById(\"resource_type\").options[resource_type_idx].text;\n    //newTab.type = resource_type_txt.toLowerCase();\n  }\n\n  add_resource_header(newTab) {\n    let tab_number = 33333;\n    this.setState({\n      last_number: this.state.last_number + 1\n    }, function () {\n      console.log(this.state.last_number, 'try');\n      tab_number = this.state.last_number;\n      console.log(tab_number, 'tab head');\n      newTab.tab_number = tab_number;\n      this.setState(state => {\n        const tabs = this.state.tabs.concat(newTab);\n        return {\n          tabs\n        };\n      }, function () {\n        console.log(this.state.tabs, 'header');\n        this.setActiveTab(tab_number);\n      });\n    });\n  }\n\n  getType(type) {\n    this.setState({\n      resourceType: type\n    }, () => console.log(this.state.resourceType, 'resourceType'));\n  }\n\n  test(index) {\n    this.setState({\n      current_tab: index\n    });\n    console.log(this.current_tab);\n  }\n\n  setActiveTab(value) {\n    this.setState({\n      current_tab: value\n    }, function () {\n      console.log(this.state.current_tab, 'active');\n    });\n  }\n\n  add_resource_metadata(resource_id, key, value) {\n    /*\n    Add metadata, a key:value pair to the resource dict identified\n    by the supplied atom ID.    \n    */\n    if (resource_id && key && value) {\n      this.sate.sd.resources.forEach(function (res) {\n        if (res.id === resource_id) {\n          res.metadata[key] = value;\n        }\n      });\n    }\n  }\n\n  new_resource(content) {\n    /*\n    Given the supplied content (String), create a new resource dict\n     The arguments that SADFace describes are either constructed directly in a tool that writes\n    them to this format, or else are sourced from elsewhere, e.g. an argumentative text or\n    webpage, or else perhaps another medium, such as audio or video. Currently SADFace supports\n    textual resources which are stored in the content key. Optionally a \n        \"url\":\"some web location\"\n    pair can be added to the metadata to indicate a specific web location. Alternatively:\n        \"doi\":\"digital object identifier\" - resolvable by dx.doi.org\n        \"magnet-link\":\"a torrent file\"\n        \"isbn\":\"for books\"\n    Metadata may also store additional bibliographic or referencing/citation information\n    as defined in bibtex formats.\n     Returns: A dict representing the new SADFace resource\n    */\n    if (content) {\n      var new_resource = {\n        \"id\": this.new_uuid(),\n        \"content\": content,\n        \"type\": \"text\",\n        \"metadata\": {}\n      };\n      return new_resource;\n    }\n  } //Menu function\n\n\n  handleSetPng(png) {\n    this.setState({\n      png: png\n    }, () => console.log(this.state.png, 'png'));\n  }\n\n  handleSetJpg(jpg) {\n    this.setState({\n      jpg: jpg\n    }, () => console.log(this.state.jpg));\n  }\n\n  componentDidMount() {\n    this.slideout = new Slideout({\n      'panel': document.getElementById('panel'),\n      'menu': document.getElementById('menu'),\n      \"fx\": \"ease\",\n      \"side\": \"right\",\n      \"duration\": 500,\n      \"padding\": 256,\n      \"tolerance\": 70\n    });\n  }\n\n  remove_tab(i) {\n    console.log(\"remove\");\n    this.setState(state => {\n      const tabs = state.tabs.filter((item, j) => i !== j);\n      var idx = tabs.indexOf(this.state.current_tab);\n      delete_resource(this.state.current_tab);\n      /*  this.state.sd.nodes.forEach((node) => {\n            if (node.type == 'atom') {\n                if (this.state.current_tab in node.sources) {\n                    delete_source(node.id, this.state.current_tab);\n                }\n            }\n        });*/\n\n      localStorage.setItem(\"state\", JSON.stringify(get_sd()));\n\n      if (tabs.length >= 1 && idx != -1) {\n        tabs.splice(idx, 1);\n        this.state.current_tab = tabs[tabs.length - 1];\n        this.set_active_tab(this.current_tab);\n        console.log(this.state.tabs.length, 'length');\n      }\n\n      return {\n        tabs\n      };\n    });\n    /*\n        delete_resource(current_tab);\n        sd.nodes.forEach((node) => {\n            if (node.type == 'atom') {\n                if (current_tab in node.sources) {\n                    delete_source(node.id, current_tab);\n                }\n            }\n        });\n        \n        localStorage.setItem(\"state\",JSON.stringify(get_sd()));\n        if (tabs.length >= 1 && idx != -1)\n        {\n            tabs.splice(idx, 1);\n            current_tab = tabs[tabs.length-1];\n            set_active_tab(current_tab+\"_body\");\n        }\n        */\n  }\n\n  remove_all_tabs() {\n    this.setState({\n      tabs: []\n    });\n    this.setState({\n      last_number: 1\n    });\n  }\n\n  toggleButton() {\n    this.slideout.toggle();\n  }\n\n  fileManager(operation, filetype, tab_id) {\n    /*\n    Write text from tab to file or does a SADFace save operation\n    */\n    console.log(operation, filetype, tab_id);\n\n    if (\"save\" == operation) {\n      // if it's a txt file\n      if (\"txt\" == filetype) {\n        if (document.getElementById(\"title_\" + tab_id).value !== '') {\n          var filename = document.getElementById(\"title_\" + tab_id).value + \".txt\";\n        } else {\n          var filename = \"tab\" + tab_id + \"_text.txt\";\n        }\n\n        var text = document.getElementById(tab_id).value;\n        this.download(filename, text);\n      } // if it's a JSON file\n\n\n      if (\"json\" == filetype) {\n        var filename = this.state.fileName;\n        console.log(filename, 'filename');\n\n        if (filename.length == 0) {\n          filename = \"default\";\n        }\n\n        saveSADFace(filename, filetype);\n      }\n    } //if it's a load operation\n\n\n    if (\"load\" == operation) {\n      // if it's a txt file\n      if (\"txt\" == filetype) {\n        var files = document.getElementById(\"load\" + tab_id).files;\n        var file = files[0];\n        var filename = file.name;\n        document.getElementById(\"title_\" + tab_id).innerText = filename;\n        console.log(file.name);\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n          var content = reader.result;\n          document.getElementById(tab_id).innerText = content;\n          this.update_resource(tab_id, content, filename);\n        };\n\n        reader.readAsText(file);\n      } // if it's a JSON file\n\n\n      if (\"json\" == filetype) {\n        var files = document.getElementById(\"loadJSON\").files;\n        var file = files[0];\n        var reader = loadSADFace(file);\n\n        reader.onload = function (e) {\n          var result = reader.result;\n          console.log(result, 'result');\n          localStorage.setItem(\"state\", result);\n          this.loadJSON(result);\n          var json = JSON.parse(result);\n          console.log(json, 'json');\n          this.setState({\n            remove_all_tabs: !this.state.remove_all_tabs\n          }, () => console.log(this.state.remove_all_tabs));\n          this.loadTabs(json.resources);\n        }.bind(this);\n      }\n    }\n  }\n\n  loadJSON(json_value) {\n    this.setState({\n      json: import_json(json_value)\n    }, () => console.log(this.state.json, 'json'));\n    localStorage.setItem(\"state\", JSON.stringify(get_sd()));\n    this.setState({\n      current_sadface_doc: JSON.stringify(get_sd())\n    }, () => console.log(this.state.current_sadface_doc, 'current_sadface_doc')); //load any sources in the stored diagram state\n\n    window.onload = function () {\n      this.loadTabs(this.state.json.resources);\n    };\n\n    this.state.cy_data = export_cytoscape(this.state.json);\n\n    if (this.state.cy !== null) {\n      this.state.cy.elements().remove();\n      this.state.cy.json({\n        elements: JSON.parse(this.state.cy_data)\n      }); //redraw_visualisation();\n    }\n  }\n\n  download(filename, text) {\n    /*\n    Downloads a file given its filename and its text using utf-8 charset\n    */\n    console.log(\"Downloading \" + filename);\n    var outfile = document.createElement(\"a\");\n    outfile.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text));\n    outfile.setAttribute(\"download\", filename);\n    outfile.style.display = \"none\";\n    document.body.appendChild(outfile);\n    outfile.click();\n    document.body.removeChild(outfile);\n  }\n\n  get_resource(resource_id) {\n    /*\n    Retrieve the resource dict identified by the supplied resource ID\n     Returns: An resource dict\n    */\n    if (resource_id) {\n      var resource;\n      const index = this.state.tabs.findIndex(tab => tab.tab_id === resource_id);\n      const tabs = [...this.state.tabs];\n      resource = tabs[index];\n      return resource;\n    }\n  }\n\n  isTab_id(tab) {\n    return tab.tab_id;\n  }\n\n  loadJSON() {}\n\n  loadTabs(tabs) {\n    console.log(tabs); // this.state.tabs.forEach(function(tab) {\n\n    this.load_tab(tabs); // });\n  }\n\n  load_tab(resource) {\n    if (resource != null) {\n      var tab_id = resource.id;\n      this.add_tab(tab_id); //  this.set_text_resource_title(tab_id, resource.metadata.title);\n      //  this.set_text_resource_content(tab_id, resource.content);\n    }\n  }\n\n  update_resource(resource_id, content, title) {\n    /*\n    Given an ID for an existing resource, update the content and metadata of the resource.\n    Updates the resource in sd;\n    */\n    if (resource_id && (content || title)) {\n      console.log(\"update resource\");\n      var resource;\n      const index = this.state.tabs.findIndex(tab => tab.tab_id === resource_id);\n      const tabs = [...this.state.tabs];\n      resource = tabs[index];\n\n      if (resource !== null && resource !== undefined) {\n        if (content !== null && content !== undefined) {\n          resource.content = content;\n        }\n\n        if (title !== null && title !== undefined) {\n          resource.title = title;\n        }\n        /*  this.state.sd.resources.forEach((res) => {\n              if(res.id === resource_id) {\n                  res = resource;\n              }\n          });*/\n\n      } else {\n        throw \"Could not update the resource: \" + resource_id;\n      }\n\n      this.setState({\n        tabs\n      }, () => {\n        console.log(\"update tabs\");\n      });\n    }\n  } //Resource Pane Functions\n\n\n  change_title(tab_id, val) {\n    console.log(\"change title\" + tab_id + val);\n    this.set_text_resource_title(tab_id, val);\n  }\n\n  set_text_resource_title(tab_id, title) {\n    console.log(\"set text resource title\" + tab_id + title);\n    this.update_resource(tab_id, null, title); //    this.update_local_storage();\n  }\n\n  change_content(tab_id, val) {\n    console.log(\"change content\" + tab_id + val);\n    this.set_text_resource_content(tab_id, val);\n  }\n\n  set_text_resource_content(tab_id, text) {\n    this.update_resource(tab_id, text, null); //update_local_storage();\n  } // Slide In Functions\n\n\n  toggleResourcePane() {\n    this.setState({\n      showResourcePane: !this.state.showResourcePane\n    });\n  }\n\n  clear_local_storage() {\n    localStorage.clear();\n    window.location.reload(false);\n  }\n\n  setFileName(file_name) {\n    console.log('filename APP');\n    this.setState({\n      fileName: file_name\n    }, () => console.log(this.state.fileName, 'filename app'));\n  }\n\n  download_sadface() {\n    console.log(\"download_sadface\");\n  }\n\n  load_demo_argument() {\n    var demo_sadface_doc = \"{\\\"analyst_email\\\":\\\"40170722@live.napier.ac.uk\\\",\\\"analyst_name\\\":\\\"Nathan Mair\\\",\\\"created\\\":\\\"2018-02-23T02:27:36\\\",\\\"edges\\\":[{\\\"id\\\":\\\"a1s1\\\",\\\"source_id\\\":\\\"a1\\\",\\\"target_id\\\":\\\"s1\\\"},{\\\"id\\\":\\\"a2s1\\\",\\\"source_id\\\":\\\"a2\\\",\\\"target_id\\\":\\\"s1\\\"},{\\\"id\\\":\\\"a3s2\\\",\\\"source_id\\\":\\\"a3\\\",\\\"target_id\\\":\\\"s2\\\"},{\\\"id\\\":\\\"s2a5\\\",\\\"source_id\\\":\\\"s2\\\",\\\"target_id\\\":\\\"a5\\\"},{\\\"id\\\":\\\"s1a4\\\",\\\"source_id\\\":\\\"s1\\\",\\\"target_id\\\":\\\"a4\\\"},{\\\"id\\\":\\\"a4s2\\\",\\\"source_id\\\":\\\"a4\\\",\\\"target_id\\\":\\\"s2\\\"}],\\\"edited\\\":\\\"2018-02-23T02:27:36\\\",\\\"id\\\":\\\"94a975db-25ae-4d25-93cc-1c07c932e2f9\\\",\\\"metadata\\\":{},\\\"nodes\\\":[{\\\"id\\\":\\\"a1\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"Every person is going to die\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a2\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You are a person\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a3\\\",\\\"metadata\\\":{\\\"test\\\":\\\"test\\\"},\\\"sources\\\":[],\\\"text\\\":\\\"If you are going to die then you should treasure every moment\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a4\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You are going to die\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a5\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You should treasure every moment\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"s1\\\",\\\"name\\\":\\\"Support\\\",\\\"type\\\":\\\"scheme\\\"},{\\\"id\\\":\\\"s2\\\",\\\"name\\\":\\\"Support\\\",\\\"type\\\":\\\"scheme\\\"}],\\\"resources\\\": []}\";\n    localStorage.setItem(\"state\", demo_sadface_doc);\n    this.setState({\n      cy_data: export_cytoscape(import_json(demo_sadface_doc))\n    }, () => console.log(this.state.cy_data, 'cy_data'));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      toggleResourcePane: this.toggleResourcePane,\n      mp_reset: this.mp_reset,\n      load_demo_argument: this.load_demo_argument,\n      set_analyst_name: this.set_analyst_name,\n      set_analyst_email: this.set_analyst_email,\n      download_sadface: this.download_sadface,\n      download_png: this.download_png,\n      download_jpg: this.download_jpg,\n      setFileName: this.setFileName,\n      fileManager: this.fileManager,\n      png: this.state.png,\n      jpg: this.state.jpg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574\n      },\n      __self: this\n    }), React.createElement(MainUI, {\n      toggleSlideIn: () => this.toggleButton(),\n      addTab: () => this.add_tab(),\n      tabs: this.state.tabs,\n      getType: this.getType,\n      remove_tab: this.remove_tab,\n      fileManager: this.fileManager,\n      showResourcePane: this.state.showResourcePane,\n      current_tab: this.state.current_tab,\n      setActiveTab: this.setActiveTab,\n      fileManager: this.fileManager,\n      change_title: this.change_title,\n      change_content: this.change_content,\n      new_uuid: this.new_uuid,\n      loadTabs: this.loadTabs,\n      cy_data: this.state.cy_data,\n      handleSetPng: this.handleSetPng,\n      handleSetJpg: this.handleSetJpg,\n      remove_all_tabs: this.state.remove_all_tabs,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/gareth/Desktop/monkeypuzzle/src/App.js"],"names":["React","Component","Slideout","ReactCytoscape","ResourcePane","MainUI","Menu","Modal","loadJSON","loadSADFace","saveSADFace","delete_source","delete_resource","get_sd","import_json","add_resource","export_cytoscape","new_uuid","add_resource_metadata","App","constructor","props","state","tabs","last_number","tab_id","sd","showResourcePane","test","current_tab","cy_data","selected","jpg","png","fileName","json","current_sadface_doc","cy","remove_all_tabs","resourceType","bind","toggleButton","add_to_tabs_arr","download","update_resource","loadTabs","get_resource","toggleResourcePane","download_sadface","setActiveTab","fileManager","add_tab","remove_tab","change_title","change_content","set_text_resource_content","add_resource_header","getType","handleSetPng","handleSetJpg","load_demo_argument","setFileName","setState","concat","console","log","openAddBoardModal","boardAddModalShow","createNewTab","load_id","newTab","new_resource","id","localStorage","setItem","JSON","stringify","type","resource_type_idx","document","getElementById","options","selectedIndex","tab_number","index","value","resource_id","key","sate","resources","forEach","res","metadata","content","componentDidMount","slideout","i","filter","item","j","idx","indexOf","length","splice","set_active_tab","toggle","operation","filetype","filename","text","files","file","name","innerText","reader","FileReader","onload","e","result","readAsText","parse","json_value","window","elements","remove","outfile","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","resource","findIndex","tab","isTab_id","load_tab","title","undefined","val","set_text_resource_title","clear_local_storage","clear","location","reload","file_name","demo_sadface_doc","render","mp_reset","set_analyst_name","set_analyst_email","download_png","download_jpg"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,cAAP,MAA2B,iBAA3B,C,CAEA;;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAOC,KAAP,MAAkB,oBAAlB,C,CAGA;;AAGA,OAAO,wBAAP,C,CACA;;AACA,OAAO,mCAAP,C,CACA;AACA;;AACA,OAAO,sCAAP;AACA,OAAO,eAAP,C,CAGA;;AAEA,SAAQC,QAAR,EAAiBC,WAAjB,EAA6BC,WAA7B,EAA0CC,aAA1C,EAAwDC,eAAxD,EAAyEC,MAAzE,EAAgFC,WAAhF,EAA6FC,YAA7F,EAA2GC,gBAA3G,EAA6HC,QAA7H,EAAsIC,qBAAtI,QAAkK,eAAlK;;AAMA,MAAMC,GAAN,SAAkBlB,SAAlB,CAA2B;AAC1BmB,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,EADM;AAEZC,MAAAA,WAAW,EAAE,CAFD;AAGZC,MAAAA,MAAM,EAAC,EAHK;AAIHC,MAAAA,EAAE,EAAEb,MAAM,EAJP;AAKHc,MAAAA,gBAAgB,EAAE,IALf;AAMHC,MAAAA,IAAI,EAAC,EANF;AAOHC,MAAAA,WAAW,EAAE,CAPV;AAQHC,MAAAA,OAAO,EAAE,IARN;AASHC,MAAAA,QAAQ,EAAE,EATP;AAUHC,MAAAA,GAAG,EAAC,EAVD;AAWHC,MAAAA,GAAG,EAAE,EAXF;AAYHC,MAAAA,QAAQ,EAAC,EAZN;AAaHC,MAAAA,IAAI,EAAE,EAbH;AAcHC,MAAAA,mBAAmB,EAAC,EAdjB;AAeHC,MAAAA,EAAE,EAAC,IAfA;AAgBHC,MAAAA,eAAe,EAAE,KAhBd;AAiBHC,MAAAA,YAAY,EAAE;AAjBX,KAAb;AAqBM,SAAKX,IAAL,GAAY,KAAKA,IAAL,CAAUY,IAAV,CAAe,IAAf,CAAZ;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBD,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKE,eAAL,GAAsB,KAAKA,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAAtB;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKI,eAAL,GAAsB,KAAKA,eAAL,CAAqBJ,IAArB,CAA0B,IAA1B,CAAtB;AACA,SAAKhC,QAAL,GAAgB,KAAKA,QAAL,CAAcgC,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKK,QAAL,GAAe,KAAKA,QAAL,CAAcL,IAAd,CAAmB,IAAnB,CAAf;AACA,SAAKM,YAAL,GAAmB,KAAKA,YAAL,CAAkBN,IAAlB,CAAuB,IAAvB,CAAnB;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKO,kBAAL,GAAyB,KAAKA,kBAAL,CAAwBP,IAAxB,CAA6B,IAA7B,CAAzB;AACA,SAAKQ,gBAAL,GAAuB,KAAKA,gBAAL,CAAsBR,IAAtB,CAA2B,IAA3B,CAAvB;AACA,SAAKtB,qBAAL,GAA4B,KAAKA,qBAAL,CAA2BsB,IAA3B,CAAgC,IAAhC,CAA5B;AACA,SAAKS,YAAL,GAAoB,KAAKA,YAAL,CAAkBT,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKU,WAAL,GAAmB,KAAKA,WAAL,CAAiBV,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKhC,QAAL,GAAgB,KAAKA,QAAL,CAAcgC,IAAd,CAAmB,IAAnB,CAAhB,CAtCW,CAwCX;;AACA,SAAKW,OAAL,GAAe,KAAKA,OAAL,CAAaX,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKY,UAAL,GAAiB,KAAKA,UAAL,CAAgBZ,IAAhB,CAAqB,IAArB,CAAjB;AACA,SAAKa,YAAL,GAAoB,KAAKA,YAAL,CAAkBb,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKc,cAAL,GAAqB,KAAKA,cAAL,CAAoBd,IAApB,CAAyB,IAAzB,CAArB;AACA,SAAKe,yBAAL,GAAiC,KAAKA,yBAAL,CAA+Bf,IAA/B,CAAoC,IAApC,CAAjC;AACA,SAAKgB,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBhB,IAAzB,CAA8B,IAA9B,CAA3B;AACA,SAAKiB,OAAL,GAAe,KAAKA,OAAL,CAAajB,IAAb,CAAkB,IAAlB,CAAf,CA/CW,CAiDX;;AACA,SAAKkB,YAAL,GAAoB,KAAKA,YAAL,CAAkBlB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKmB,YAAL,GAAoB,KAAKA,YAAL,CAAkBnB,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKoB,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBpB,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKqB,WAAL,GAAmB,KAAKA,WAAL,CAAiBrB,IAAjB,CAAsB,IAAtB,CAAnB;AAEH;;AAUDE,EAAAA,eAAe,CAACjB,MAAD,EAAQ;AACpB,SAAKqC,QAAL,CAAcxC,KAAK,IAAI;AACpB,YAAMC,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAWwC,MAAX,CAAkBtC,MAAlB,CAAb;AACA,aAAO;AACJF,QAAAA;AADI,OAAP;AAEC,KAJJ,EAIM,YAAY;AACbyC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACH,KAFI,CAEHzB,IAFG,CAEE,IAFF,CAJN;AAQH;;AACD0B,EAAAA,iBAAiB,GAAE;AAClB,SAAKJ,QAAL,CAAc;AAAEK,MAAAA,iBAAiB,EAAE;AAArB,KAAd,EAA2C,YAAY;AACpDH,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAW6C,iBAAvB;AACH,KAFA;AAIH;;AAEDC,EAAAA,YAAY,GAAE,CACb;;AAQDjB,EAAAA,OAAO,CAACkB,OAAO,GAAC,IAAT,EAAc;AACjB,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAID,OAAO,IAAI,IAAf,EAAqB;AACjB,UAAIE,YAAY,GAAGxD,YAAY,CAAC,GAAD,CAA/B;AACAuD,MAAAA,MAAM,CAAC7C,MAAP,GAAgB8C,YAAY,CAACC,EAA7B;AACAtD,MAAAA,qBAAqB,CAACoD,MAAM,CAAC7C,MAAR,EAAgB,OAAhB,EAAyB,EAAzB,CAArB;AACAgD,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAe/D,MAAM,EAArB,CAA9B;AACAyD,MAAAA,MAAM,CAACO,IAAP,GAAc,KAAKvD,KAAL,CAAWiB,YAAzB;AACAyB,MAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AACH,KAPD,MAOK;AAAEA,MAAAA,MAAM,CAAC7C,MAAP,GAAgB4C,OAAhB;AAA0B;;AAEjC,SAAKb,mBAAL,CAAyBc,MAAzB;AAEA,QAAIQ,iBAAiB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,OAAzC,CAAiDC,aAAzE;AACAlB,IAAAA,OAAO,CAACC,GAAR,CAAYa,iBAAZ,EAA8B,mBAA9B,EAdiB,CAejB;AACA;AAIC;;AAEDtB,EAAAA,mBAAmB,CAACc,MAAD,EAAQ;AAEvB,QAAIa,UAAU,GAAG,KAAjB;AACA,SAAKrB,QAAL,CAAc;AAAEtC,MAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWE,WAAX,GAAyB;AAAxC,KAAd,EAA0D,YAAU;AAChEwC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWE,WAAvB,EAAoC,KAApC;AACA2D,MAAAA,UAAU,GAAG,KAAK7D,KAAL,CAAWE,WAAxB;AACAwC,MAAAA,OAAO,CAACC,GAAR,CAAYkB,UAAZ,EAAwB,UAAxB;AACAb,MAAAA,MAAM,CAACa,UAAP,GAAoBA,UAApB;AAEA,WAAKrB,QAAL,CAAcxC,KAAK,IAAI;AACnB,cAAMC,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAX,CAAgBwC,MAAhB,CAAuBO,MAAvB,CAAb;AACA,eAAO;AACH/C,UAAAA;AADG,SAAP;AAEE,OAJN,EAIQ,YAAW;AACXyC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWC,IAAvB,EAA6B,QAA7B;AACA,aAAK0B,YAAL,CAAkBkC,UAAlB;AACH,OAPL;AASH,KAfD;AAgBH;;AACL1B,EAAAA,OAAO,CAACoB,IAAD,EAAM;AACT,SAAKf,QAAL,CAAc;AAACvB,MAAAA,YAAY,EAAEsC;AAAf,KAAd,EAAoC,MAChCb,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWiB,YAAvB,EAAqC,cAArC,CADJ;AAEH;;AAKGX,EAAAA,IAAI,CAACwD,KAAD,EAAQ;AACR,SAAKtB,QAAL,CAAc;AACVjC,MAAAA,WAAW,EAAEuD;AADH,KAAd;AAGApB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpC,WAAjB;AACH;;AAEDoB,EAAAA,YAAY,CAACoC,KAAD,EAAO;AACf,SAAKvB,QAAL,CAAc;AACVjC,MAAAA,WAAW,EAAEwD;AADH,KAAd,EAEG,YAAW;AACVrB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWO,WAAvB,EAAoC,QAApC;AACH,KAJD;AAQH;;AAEDX,EAAAA,qBAAqB,CAACoE,WAAD,EAAcC,GAAd,EAAmBF,KAAnB,EAA0B;AAC/C;;;;AAIA,QAAIC,WAAW,IAAIC,GAAf,IAAsBF,KAA1B,EAAiC;AAC7B,WAAKG,IAAL,CAAU9D,EAAV,CAAa+D,SAAb,CAAuBC,OAAvB,CAA+B,UAASC,GAAT,EAAc;AACzC,YAAGA,GAAG,CAACnB,EAAJ,KAAWc,WAAd,EAA2B;AACvBK,UAAAA,GAAG,CAACC,QAAJ,CAAaL,GAAb,IAAoBF,KAApB;AACH;AACJ,OAJD;AAKH;AACJ;;AAIDd,EAAAA,YAAY,CAACsB,OAAD,EAAU;AAClB;;;;;;;;;;;;;;;AAiBA,QAAIA,OAAJ,EAAa;AACT,UAAItB,YAAY,GAAG;AAAC,cAAK,KAAKtD,QAAL,EAAN;AAAuB,mBAAU4E,OAAjC;AAA0C,gBAAO,MAAjD;AAAyD,oBAAW;AAApE,OAAnB;AACA,aAAOtB,YAAP;AACH;AACJ,GAtM0B,CAwM3B;;;AACAb,EAAAA,YAAY,CAACzB,GAAD,EAAK;AACb,SAAK6B,QAAL,CAAc;AAAC7B,MAAAA,GAAG,EAAEA;AAAN,KAAd,EAA0B,MACtB+B,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWW,GAAvB,EAA4B,KAA5B,CADJ;AAEH;;AAED0B,EAAAA,YAAY,CAAC3B,GAAD,EAAK;AACb,SAAK8B,QAAL,CAAc;AAAC9B,MAAAA,GAAG,EAAEA;AAAN,KAAd,EAA0B,MACtBgC,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWU,GAAvB,CADJ;AAEH;;AAMD8D,EAAAA,iBAAiB,GAAG;AACnB,SAAKC,QAAL,GAAgB,IAAI7F,QAAJ,CAAa;AAC1B,eAAS6E,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CADiB;AAE1B,cAAQD,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFkB;AAG1B,YAAM,MAHoB;AAI1B,cAAQ,OAJkB;AAK1B,kBAAY,GALc;AAM1B,iBAAW,GANe;AAO1B,mBAAa;AAPa,KAAb,CAAhB;AAUA;;AAED5B,EAAAA,UAAU,CAAC4C,CAAD,EAAG;AACThC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,SAAKH,QAAL,CAAcxC,KAAK,IAAG;AAClB,YAAMC,IAAI,GAAGD,KAAK,CAACC,IAAN,CAAW0E,MAAX,CAAkB,CAACC,IAAD,EAAOC,CAAP,KAAaH,CAAC,KAAIG,CAApC,CAAb;AACA,UAAIC,GAAG,GAAG7E,IAAI,CAAC8E,OAAL,CAAa,KAAK/E,KAAL,CAAWO,WAAxB,CAAV;AACAjB,MAAAA,eAAe,CAAC,KAAKU,KAAL,CAAWO,WAAZ,CAAf;AAEN;;;;;;;;AAQE4C,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe/D,MAAM,EAArB,CAA7B;;AACA,UAAIU,IAAI,CAAC+E,MAAL,IAAe,CAAf,IAAoBF,GAAG,IAAI,CAAC,CAAhC,EACA;AACI7E,QAAAA,IAAI,CAACgF,MAAL,CAAYH,GAAZ,EAAiB,CAAjB;AACA,aAAK9E,KAAL,CAAWO,WAAX,GAAyBN,IAAI,CAACA,IAAI,CAAC+E,MAAL,GAAY,CAAb,CAA7B;AACA,aAAKE,cAAL,CAAoB,KAAK3E,WAAzB;AACAmC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWC,IAAX,CAAgB+E,MAA5B,EAAoC,QAApC;AACH;;AACG,aAAO;AACH/E,QAAAA;AADG,OAAP;AAGH,KAxBD;AAyBJ;;;;;;;;;;;;;;;;;;AAkBC;;AAEDe,EAAAA,eAAe,GAAE;AACb,SAAKwB,QAAL,CAAc;AAACvC,MAAAA,IAAI,EAAE;AAAP,KAAd;AACA,SAAKuC,QAAL,CAAc;AAACtC,MAAAA,WAAW,EAAC;AAAb,KAAd;AAGH;;AAKDiB,EAAAA,YAAY,GAAE;AACV,SAAKsD,QAAL,CAAcU,MAAd;AACH;;AAMDvD,EAAAA,WAAW,CAACwD,SAAD,EAAYC,QAAZ,EAAsBlF,MAAtB,EAA8B;AACrC;;;AAIAuC,IAAAA,OAAO,CAACC,GAAR,CAAYyC,SAAZ,EAAuBC,QAAvB,EAAiClF,MAAjC;;AACA,QAAI,UAAUiF,SAAd,EAA4B;AACxB;AACA,UAAI,SAASC,QAAb,EAAuB;AACnB,YAAI5B,QAAQ,CAACC,cAAT,CAAwB,WAASvD,MAAjC,EAAyC4D,KAAzC,KAAmD,EAAvD,EAA2D;AACvD,cAAIuB,QAAQ,GAAG7B,QAAQ,CAACC,cAAT,CAAwB,WAASvD,MAAjC,EAAyC4D,KAAzC,GAA+C,MAA9D;AACH,SAFD,MAEO;AACH,cAAIuB,QAAQ,GAAG,QAAMnF,MAAN,GAAa,WAA5B;AACH;;AACD,YAAIoF,IAAI,GAAG9B,QAAQ,CAACC,cAAT,CAAwBvD,MAAxB,EAAgC4D,KAA3C;AACA,aAAK1C,QAAL,CAAciE,QAAd,EAAuBC,IAAvB;AACH,OAVuB,CAYxB;;;AACA,UAAI,UAAUF,QAAd,EAAwB;AACrB,YAAIC,QAAQ,GAAG,KAAKtF,KAAL,CAAWY,QAA1B;AACA8B,QAAAA,OAAO,CAACC,GAAR,CAAY2C,QAAZ,EAAsB,UAAtB;;AACC,YAAGA,QAAQ,CAACN,MAAT,IAAmB,CAAtB,EAAwB;AAAEM,UAAAA,QAAQ,GAAG,SAAX;AAAqB;;AAC5ClG,QAAAA,WAAW,CAACkG,QAAD,EAAWD,QAAX,CAAX;AACN;AACJ,KAzBoC,CA2BrC;;;AACA,QAAI,UAAUD,SAAd,EAAyB;AACrB;AACA,UAAI,SAASC,QAAb,EAAuB;AACnB,YAAIG,KAAK,GAAG/B,QAAQ,CAACC,cAAT,CAAwB,SAAOvD,MAA/B,EAAuCqF,KAAnD;AACA,YAAIC,IAAI,GAAGD,KAAK,CAAC,CAAD,CAAhB;AACA,YAAIF,QAAQ,GAAGG,IAAI,CAACC,IAApB;AACAjC,QAAAA,QAAQ,CAACC,cAAT,CAAwB,WAASvD,MAAjC,EAAyCwF,SAAzC,GAAqDL,QAArD;AACA5C,QAAAA,OAAO,CAACC,GAAR,CAAY8C,IAAI,CAACC,IAAjB;AACA,YAAIE,MAAM,GAAG,IAAIC,UAAJ,EAAb;;AACAD,QAAAA,MAAM,CAACE,MAAP,GAAgB,UAASC,CAAT,EAAY;AACxB,cAAIxB,OAAO,GAAGqB,MAAM,CAACI,MAArB;AACAvC,UAAAA,QAAQ,CAACC,cAAT,CAAwBvD,MAAxB,EAAgCwF,SAAhC,GAA4CpB,OAA5C;AACA,eAAKjD,eAAL,CAAqBnB,MAArB,EAA6BoE,OAA7B,EAAsCe,QAAtC;AACH,SAJD;;AAKAM,QAAAA,MAAM,CAACK,UAAP,CAAkBR,IAAlB;AACH,OAfoB,CAgBrB;;;AACA,UAAI,UAAUJ,QAAd,EAAwB;AACpB,YAAIG,KAAK,GAAG/B,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoC8B,KAAhD;AACA,YAAIC,IAAI,GAAGD,KAAK,CAAC,CAAD,CAAhB;AACA,YAAII,MAAM,GAAGzG,WAAW,CAACsG,IAAD,CAAxB;;AACAG,QAAAA,MAAM,CAACE,MAAP,GAAgB,UAASC,CAAT,EAAY;AACxB,cAAIC,MAAM,GAAGJ,MAAM,CAACI,MAApB;AACJtD,UAAAA,OAAO,CAACC,GAAR,CAAYqD,MAAZ,EAAoB,QAApB;AACI7C,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6B4C,MAA7B;AACA,eAAK9G,QAAL,CAAc8G,MAAd;AACA,cAAInF,IAAI,GAAGwC,IAAI,CAAC6C,KAAL,CAAWF,MAAX,CAAX;AACAtD,UAAAA,OAAO,CAACC,GAAR,CAAY9B,IAAZ,EAAkB,MAAlB;AACA,eAAK2B,QAAL,CAAc;AAACxB,YAAAA,eAAe,EAAE,CAAC,KAAKhB,KAAL,CAAWgB;AAA9B,WAAd,EAA8D,MAC1D0B,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWgB,eAAvB,CADJ;AAEA,eAAKO,QAAL,CAAcV,IAAI,CAACsD,SAAnB;AACH,SAVe,CAUdjD,IAVc,CAUT,IAVS,CAAhB;AAWH;AACJ;AACJ;;AAEAhC,EAAAA,QAAQ,CAACiH,UAAD,EAAa;AAClB,SAAK3D,QAAL,CAAc;AAAC3B,MAAAA,IAAI,EAAErB,WAAW,CAAC2G,UAAD;AAAlB,KAAd,EAA+C,MAC3CzD,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWa,IAAvB,EAA6B,MAA7B,CADJ;AAEAsC,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BC,IAAI,CAACC,SAAL,CAAe/D,MAAM,EAArB,CAA7B;AACA,SAAKiD,QAAL,CAAc;AAAC1B,MAAAA,mBAAmB,EAAEuC,IAAI,CAACC,SAAL,CAAe/D,MAAM,EAArB;AAAtB,KAAd,EAA+D,MAC3DmD,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWc,mBAAvB,EAA4C,qBAA5C,CADJ,EAJkB,CAMlB;;AACAsF,IAAAA,MAAM,CAACN,MAAP,GAAgB,YAAY;AACxB,WAAKvE,QAAL,CAAc,KAAKvB,KAAL,CAAWa,IAAX,CAAgBsD,SAA9B;AACH,KAFD;;AAGA,SAAKnE,KAAL,CAAWQ,OAAX,GAAqBd,gBAAgB,CAAC,KAAKM,KAAL,CAAWa,IAAZ,CAArC;;AACA,QAAG,KAAKb,KAAL,CAAWe,EAAX,KAAkB,IAArB,EACA;AACI,WAAKf,KAAL,CAAWe,EAAX,CAAcsF,QAAd,GAAyBC,MAAzB;AACA,WAAKtG,KAAL,CAAWe,EAAX,CAAcF,IAAd,CAAmB;AAACwF,QAAAA,QAAQ,EAAEhD,IAAI,CAAC6C,KAAL,CAAW,KAAKlG,KAAL,CAAWQ,OAAtB;AAAX,OAAnB,EAFJ,CAGI;AACH;AACJ;;AAIDa,EAAAA,QAAQ,CAACiE,QAAD,EAAWC,IAAX,EAAiB;AACrB;;;AAGA7C,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAe2C,QAA3B;AACA,QAAIiB,OAAO,GAAG9C,QAAQ,CAAC+C,aAAT,CAAuB,GAAvB,CAAd;AACAD,IAAAA,OAAO,CAACE,YAAR,CAAqB,MAArB,EAA6B,mCAAmCC,kBAAkB,CAACnB,IAAD,CAAlF;AACAgB,IAAAA,OAAO,CAACE,YAAR,CAAqB,UAArB,EAAiCnB,QAAjC;AAEAiB,IAAAA,OAAO,CAACI,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAnD,IAAAA,QAAQ,CAACoD,IAAT,CAAcC,WAAd,CAA0BP,OAA1B;AAEAA,IAAAA,OAAO,CAACQ,KAAR;AAEAtD,IAAAA,QAAQ,CAACoD,IAAT,CAAcG,WAAd,CAA0BT,OAA1B;AACH;;AAGD/E,EAAAA,YAAY,CAACwC,WAAD,EAAa;AACrB;;;;AAKA,QAAGA,WAAH,EAAe;AACX,UAAIiD,QAAJ;AACA,YAAMnD,KAAK,GAAG,KAAK9D,KAAL,CAAWC,IAAX,CAAgBiH,SAAhB,CAA2BC,GAAD,IAASA,GAAG,CAAChH,MAAJ,KAAe6D,WAAlD,CAAd;AACA,YAAM/D,IAAI,GAAG,CAAC,GAAG,KAAKD,KAAL,CAAWC,IAAf,CAAb;AACAgH,MAAAA,QAAQ,GAAGhH,IAAI,CAAC6D,KAAD,CAAf;AACA,aAAOmD,QAAP;AACH;AACJ;;AAEDG,EAAAA,QAAQ,CAACD,GAAD,EAAK;AACT,WAAOA,GAAG,CAAChH,MAAX;AACH;;AAODjB,EAAAA,QAAQ,GAAE,CAET;;AAEDqC,EAAAA,QAAQ,CAACtB,IAAD,EAAO;AACXyC,IAAAA,OAAO,CAACC,GAAR,CAAY1C,IAAZ,EADW,CAEZ;;AACE,SAAKoH,QAAL,CAAcpH,IAAd,EAHU,CAIf;AACC;;AAEDoH,EAAAA,QAAQ,CAACJ,QAAD,EAAW;AACf,QAAIA,QAAQ,IAAI,IAAhB,EAAsB;AAClB,UAAI9G,MAAM,GAAG8G,QAAQ,CAAC/D,EAAtB;AACA,WAAKrB,OAAL,CAAa1B,MAAb,EAFkB,CAGpB;AACA;AACD;AACJ;;AAEDmB,EAAAA,eAAe,CAAC0C,WAAD,EAAcO,OAAd,EAAuB+C,KAAvB,EAA8B;AACzC;;;;AAMA,QAAItD,WAAW,KAAKO,OAAO,IAAI+C,KAAhB,CAAf,EAAuC;AACnC5E,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,UAAIsE,QAAJ;AACA,YAAMnD,KAAK,GAAG,KAAK9D,KAAL,CAAWC,IAAX,CAAgBiH,SAAhB,CAA2BC,GAAD,IAASA,GAAG,CAAChH,MAAJ,KAAe6D,WAAlD,CAAd;AACA,YAAM/D,IAAI,GAAG,CAAC,GAAG,KAAKD,KAAL,CAAWC,IAAf,CAAb;AACAgH,MAAAA,QAAQ,GAAGhH,IAAI,CAAC6D,KAAD,CAAf;;AAEA,UAAImD,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAKM,SAAtC,EAAiD;AAC7C,YAAIhD,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAKgD,SAApC,EAA+C;AAC3CN,UAAAA,QAAQ,CAAC1C,OAAT,GAAmBA,OAAnB;AACH;;AACD,YAAI+C,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAKC,SAAhC,EAA2C;AACvCN,UAAAA,QAAQ,CAACK,KAAT,GAAiBA,KAAjB;AACH;AACH;;;;;;AAKD,OAZD,MAYO;AACH,cAAO,oCAAkCtD,WAAzC;AACH;;AACD,WAAKxB,QAAL,CAAc;AAACvC,QAAAA;AAAD,OAAd,EAAsB,MAAK;AACvByC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACH,OAFD;AAGH;AACJ,GA1d0B,CA4d3B;;;AACAZ,EAAAA,YAAY,CAAC5B,MAAD,EAASqH,GAAT,EAAc;AACtB9E,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAgBxC,MAAhB,GAAuBqH,GAAnC;AACA,SAAKC,uBAAL,CAA6BtH,MAA7B,EAAqCqH,GAArC;AACH;;AAEDC,EAAAA,uBAAuB,CAACtH,MAAD,EAASmH,KAAT,EAAe;AAClC5E,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAA2BxC,MAA3B,GAAoCmH,KAAhD;AACA,SAAKhG,eAAL,CAAqBnB,MAArB,EAA6B,IAA7B,EAAmCmH,KAAnC,EAFkC,CAGtC;AACC;;AAEDtF,EAAAA,cAAc,CAAC7B,MAAD,EAASqH,GAAT,EAAa;AACvB9E,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBxC,MAAnB,GAA4BqH,GAAxC;AACA,SAAKvF,yBAAL,CAA+B9B,MAA/B,EAAuCqH,GAAvC;AACH;;AAEDvF,EAAAA,yBAAyB,CAAC9B,MAAD,EAASoF,IAAT,EAAc;AACnC,SAAKjE,eAAL,CAAqBnB,MAArB,EAA6BoF,IAA7B,EAAmC,IAAnC,EADmC,CAEnC;AACH,GAhf0B,CAkf3B;;;AACA9D,EAAAA,kBAAkB,GAAE;AAChB,SAAKe,QAAL,CAAc;AAACnC,MAAAA,gBAAgB,EAAE,CAAC,KAAKL,KAAL,CAAWK;AAA/B,KAAd;AACH;;AAGDqH,EAAAA,mBAAmB,GAAG;AAClBvE,IAAAA,YAAY,CAACwE,KAAb;AACAvB,IAAAA,MAAM,CAACwB,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB;AACH;;AAEAtF,EAAAA,WAAW,CAACuF,SAAD,EAAW;AACnBpF,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,SAAKH,QAAL,CAAc;AAAC5B,MAAAA,QAAQ,EAAEkH;AAAX,KAAd,EAAqC,MACnCpF,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWY,QAAvB,EAAiC,cAAjC,CADF;AAED;;AAKHc,EAAAA,gBAAgB,GAAE;AACdgB,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH;;AAIDL,EAAAA,kBAAkB,GAAE;AACjB,QAAIyF,gBAAgB,GAAG,yxCAAvB;AAEC5E,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6B2E,gBAA7B;AAEA,SAAKvF,QAAL,CAAc;AAAChC,MAAAA,OAAO,EAAEd,gBAAgB,CAACF,WAAW,CAACuI,gBAAD,CAAZ;AAA1B,KAAd,EAA0E,MACtErF,OAAO,CAACC,GAAR,CAAY,KAAK3C,KAAL,CAAWQ,OAAvB,EAAgC,SAAhC,CADJ;AAEH;;AAGDwH,EAAAA,MAAM,GAAE;AAEJ,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIA,oBAAC,IAAD;AACG,MAAA,kBAAkB,EAAE,KAAKvG,kBAD5B;AAEG,MAAA,QAAQ,EAAE,KAAKwG,QAFlB;AAGG,MAAA,kBAAkB,EAAE,KAAK3F,kBAH5B;AAIG,MAAA,gBAAgB,EAAE,KAAK4F,gBAJ1B;AAKG,MAAA,iBAAiB,EAAE,KAAKC,iBAL3B;AAMG,MAAA,gBAAgB,EAAE,KAAKzG,gBAN1B;AAOG,MAAA,YAAY,EAAE,KAAK0G,YAPtB;AAQG,MAAA,YAAY,EAAE,KAAKC,YARtB;AASG,MAAA,WAAW,EAAE,KAAK9F,WATrB;AAUG,MAAA,WAAW,EAAE,KAAKX,WAVrB;AAYG,MAAA,GAAG,EAAE,KAAK5B,KAAL,CAAWW,GAZnB;AAaG,MAAA,GAAG,EAAE,KAAKX,KAAL,CAAWU,GAbnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJA,EAqBG,oBAAC,MAAD;AACA,MAAA,aAAa,EAAE,MAAM,KAAKS,YAAL,EADrB;AAEA,MAAA,MAAM,EAAI,MAAM,KAAKU,OAAL,EAFhB;AAGA,MAAA,IAAI,EAAI,KAAK7B,KAAL,CAAWC,IAHnB;AAIA,MAAA,OAAO,EAAE,KAAKkC,OAJd;AAKA,MAAA,UAAU,EAAE,KAAKL,UALjB;AAMA,MAAA,WAAW,EAAE,KAAKF,WANlB;AAOA,MAAA,gBAAgB,EAAE,KAAK5B,KAAL,CAAWK,gBAP7B;AAQA,MAAA,WAAW,EAAE,KAAKL,KAAL,CAAWO,WARxB;AASA,MAAA,YAAY,EAAE,KAAKoB,YATnB;AAUA,MAAA,WAAW,EAAE,KAAKC,WAVlB;AAWA,MAAA,YAAY,EAAE,KAAKG,YAXnB;AAYA,MAAA,cAAc,EAAE,KAAKC,cAZrB;AAaA,MAAA,QAAQ,EAAI,KAAKrC,QAbjB;AAcA,MAAA,QAAQ,EAAG,KAAK4B,QAdhB;AAeA,MAAA,OAAO,EAAG,KAAKvB,KAAL,CAAWQ,OAfrB;AAiBA,MAAA,YAAY,EAAE,KAAK4B,YAjBnB;AAkBA,MAAA,YAAY,EAAE,KAAKC,YAlBnB;AAoBA,MAAA,eAAe,EAAE,KAAKrC,KAAL,CAAWgB,eApB5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBH,CADD;AAmDH;;AA3kB0B;;AAmmB3B,eAAenB,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport Slideout from 'slideout';\nimport ReactCytoscape from 'react-cytoscape';\n\n//import Components\nimport ResourcePane from './Components/ResourcePane';\nimport MainUI from './Components/MainUI';\nimport Menu from './Components/Menu';\n\nimport Modal from './Components/Modal';\n\n\n//import Test from './Test';\n\n\nimport './CSS/monkeypuzzle.css';\n//import './CSS/font-awesome.min.css';\nimport './CSS/cytoscape-context-menus.css';\n//import './CSS/jquery.qtip.min.css';\n//import './CSS/bootstrap.min.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './CSS/App.css';\n\n\n//import fuctions from SADFACE\n\nimport {loadJSON,loadSADFace,saveSADFace, delete_source,delete_resource, get_sd,import_json, add_resource, export_cytoscape, new_uuid,add_resource_metadata} from './lib/Sadface'; \n\n\n\n\n\nclass App extends Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttabs: [],\n\t\t\tlast_number: 0,\n\t\t\ttab_id:\"\",\n            sd: get_sd(),\n            showResourcePane: true,\n            test:{},\n            current_tab: 0,\n            cy_data: null,\n            selected: '',\n            jpg:'',\n            png: '',\n            fileName:'',\n            json: '',\n            current_sadface_doc:'',\n            cy:null,\n            remove_all_tabs: false,\n            resourceType: '',\n        };\n\n\n        this.test = this.test.bind(this);\n        this.toggleButton = this.toggleButton.bind(this);\n        this.add_to_tabs_arr =this.add_to_tabs_arr.bind(this);\n        this.download = this.download.bind(this);\n        this.update_resource =this.update_resource.bind(this);\n        this.loadJSON = this.loadJSON.bind(this);\n        this.loadTabs =this.loadTabs.bind(this);\n        this.get_resource =this.get_resource.bind(this);\n        this.download = this.download.bind(this);\n        this.toggleResourcePane =this.toggleResourcePane.bind(this);\n        this.download_sadface =this.download_sadface.bind(this);\n        this.add_resource_metadata =this.add_resource_metadata.bind(this);\n        this.setActiveTab = this.setActiveTab.bind(this);\n        this.download = this.download.bind(this);\n        this.fileManager = this.fileManager.bind(this);\n        this.loadJSON = this.loadJSON.bind(this);\n\n        //ResourcePane Functions\n        this.add_tab = this.add_tab.bind(this);\n        this.remove_tab =this.remove_tab.bind(this);\n        this.change_title = this.change_title.bind(this);\n        this.change_content =this.change_content.bind(this);\n        this.set_text_resource_content = this.set_text_resource_content.bind(this);\n        this.add_resource_header = this.add_resource_header.bind(this);\n        this.getType = this.getType.bind(this);\n\n        //Menu\n        this.handleSetPng = this.handleSetPng.bind(this);\n        this.handleSetJpg = this.handleSetJpg.bind(this);\n        this.load_demo_argument = this.load_demo_argument.bind(this);\n        this.setFileName = this.setFileName.bind(this);\n\n    }\n\n\n\n\n\n\n\n\n\n    add_to_tabs_arr(tab_id){\n       this.setState(state => {\n          const tabs = state.tabs.concat(tab_id);\n          return {\n             tabs,\n         }}, function () {\n            console.log(\"tabs\");\n        }.bind(this));\n\n   }\n   openAddBoardModal(){\n    this.setState({ boardAddModalShow: true }, function () {\n       console.log(this.state.boardAddModalShow);\n   });\n\n}\n\ncreateNewTab(){\n}\n\n\n\n\n\n\n\nadd_tab(load_id=null){\n    let newTab = {};\n    if (load_id == null) {\n        var new_resource = add_resource(' ');\n        newTab.tab_id = new_resource.id;\n        add_resource_metadata(newTab.tab_id, 'title', '');\n        localStorage.setItem(\"state\", JSON.stringify(get_sd()));\n        newTab.type = this.state.resourceType;\n        console.log(newTab);\n    }else{ newTab.tab_id = load_id; }\n\n    this.add_resource_header(newTab);\n    \n    var resource_type_idx = document.getElementById(\"resource_type\").options.selectedIndex;\n    console.log(resource_type_idx,'resource_type_idx');\n    //var resource_type_txt = document.getElementById(\"resource_type\").options[resource_type_idx].text;\n    //newTab.type = resource_type_txt.toLowerCase();\n\n    \n        \n    }\n    \n    add_resource_header(newTab){\n\n        let tab_number = 33333;\n        this.setState({ last_number: this.state.last_number + 1}, function(){\n            console.log(this.state.last_number, 'try');\n            tab_number = this.state.last_number;\n            console.log(tab_number, 'tab head');\n            newTab.tab_number = tab_number;\n\n            this.setState(state => {\n                const tabs = this.state.tabs.concat(newTab);\n                return {\n                    tabs,\n                }}, function (){\n                    console.log(this.state.tabs, 'header');\n                    this.setActiveTab(tab_number);\n                }\n                )\n        });\n    }\ngetType(type){\n    this.setState({resourceType: type}, () =>\n        console.log(this.state.resourceType, 'resourceType'));\n}\n\n\n\n\n    test(index) {\n        this.setState({\n            current_tab: index\n        });\n        console.log(this.current_tab);\n    }\n\n    setActiveTab(value){\n        this.setState({\n            current_tab: value\n        }, function (){\n            console.log(this.state.current_tab, 'active');\n        });\n\n\n\n    }\n\n    add_resource_metadata(resource_id, key, value) {\n    /*\n    Add metadata, a key:value pair to the resource dict identified\n    by the supplied atom ID.    \n    */\n    if (resource_id && key && value) {\n        this.sate.sd.resources.forEach(function(res) {\n            if(res.id === resource_id) {\n                res.metadata[key] = value;\n            }\n        });\n    }\n}\n\n\n\nnew_resource(content) {\n    /*\n    Given the supplied content (String), create a new resource dict\n\n    The arguments that SADFace describes are either constructed directly in a tool that writes\n    them to this format, or else are sourced from elsewhere, e.g. an argumentative text or\n    webpage, or else perhaps another medium, such as audio or video. Currently SADFace supports\n    textual resources which are stored in the content key. Optionally a \n        \"url\":\"some web location\"\n    pair can be added to the metadata to indicate a specific web location. Alternatively:\n        \"doi\":\"digital object identifier\" - resolvable by dx.doi.org\n        \"magnet-link\":\"a torrent file\"\n        \"isbn\":\"for books\"\n    Metadata may also store additional bibliographic or referencing/citation information\n    as defined in bibtex formats.\n\n    Returns: A dict representing the new SADFace resource\n    */\n    if (content) {\n        var new_resource = {\"id\":this.new_uuid(), \"content\":content, \"type\":\"text\", \"metadata\":{}};\n        return new_resource;\n    }\n}\n\n//Menu function\nhandleSetPng(png){\n    this.setState({png: png}, () =>\n        console.log(this.state.png, 'png'));\n}\n\nhandleSetJpg(jpg){\n    this.setState({jpg: jpg}, () =>\n        console.log(this.state.jpg));\n}\n\n\n\n\n\ncomponentDidMount() {\n this.slideout = new Slideout({\n    'panel': document.getElementById('panel'),\n    'menu': document.getElementById('menu'),\n    \"fx\": \"ease\",\n    \"side\": \"right\",\n    \"duration\": 500,\n    \"padding\": 256,\n    \"tolerance\": 70,\n\n});\n}\n\nremove_tab(i){\n    console.log(\"remove\");\n    this.setState(state =>{\n        const tabs = state.tabs.filter((item, j) => i !==j);\n        var idx = tabs.indexOf(this.state.current_tab);\n        delete_resource(this.state.current_tab);\n\n  /*  this.state.sd.nodes.forEach((node) => {\n        if (node.type == 'atom') {\n            if (this.state.current_tab in node.sources) {\n                delete_source(node.id, this.state.current_tab);\n            }\n        }\n    });*/\n    \n    localStorage.setItem(\"state\",JSON.stringify(get_sd()));\n    if (tabs.length >= 1 && idx != -1)\n    {\n        tabs.splice(idx, 1);\n        this.state.current_tab = tabs[tabs.length-1];\n        this.set_active_tab(this.current_tab);\n        console.log(this.state.tabs.length, 'length');\n    }\n        return {\n            tabs,\n        };\n    });\n/*\n    delete_resource(current_tab);\n    sd.nodes.forEach((node) => {\n        if (node.type == 'atom') {\n            if (current_tab in node.sources) {\n                delete_source(node.id, current_tab);\n            }\n        }\n    });\n    \n    localStorage.setItem(\"state\",JSON.stringify(get_sd()));\n    if (tabs.length >= 1 && idx != -1)\n    {\n        tabs.splice(idx, 1);\n        current_tab = tabs[tabs.length-1];\n        set_active_tab(current_tab+\"_body\");\n    }\n    */\n};\n\nremove_all_tabs(){\n    this.setState({tabs: []});\n    this.setState({last_number:1});\n\n\n}\n\n\n\n\ntoggleButton(){\n    this.slideout.toggle();\n}\n\n\n\n\n\nfileManager(operation, filetype, tab_id) {\n    /*\n    Write text from tab to file or does a SADFace save operation\n    */\n\n    console.log(operation, filetype, tab_id);\n    if (\"save\" == operation)    {\n        // if it's a txt file\n        if (\"txt\" == filetype) {    \n            if (document.getElementById(\"title_\"+tab_id).value !== '') {\n                var filename = document.getElementById(\"title_\"+tab_id).value+\".txt\";\n            } else {\n                var filename = \"tab\"+tab_id+\"_text.txt\";\n            }\n            var text = document.getElementById(tab_id).value;\n            this.download(filename,text);\n        }\n        \n        // if it's a JSON file\n        if (\"json\" == filetype) {\n           var filename = this.state.fileName;\n           console.log(filename, 'filename');\n            if(filename.length == 0){ filename = \"default\"}\n               saveSADFace(filename, filetype);\n        }\n    }\n    \n    //if it's a load operation\n    if (\"load\" == operation) {\n        // if it's a txt file\n        if (\"txt\" == filetype) {\n            var files = document.getElementById(\"load\"+tab_id).files;\n            var file = files[0];\n            var filename = file.name;\n            document.getElementById(\"title_\"+tab_id).innerText = filename;\n            console.log(file.name);\n            var reader = new FileReader();      \n            reader.onload = function(e) {\n                var content = reader.result;\n                document.getElementById(tab_id).innerText = content;\n                this.update_resource(tab_id, content, filename);\n            }\n            reader.readAsText(file);\n        }\n        // if it's a JSON file\n        if (\"json\" == filetype) {\n            var files = document.getElementById(\"loadJSON\").files;\n            var file = files[0];\n            var reader = loadSADFace(file);\n            reader.onload = function(e) {\n                var result = reader.result;\n            console.log(result, 'result');\n                localStorage.setItem(\"state\",result);\n                this.loadJSON(result);\n                var json = JSON.parse(result);\n                console.log(json, 'json')\n                this.setState({remove_all_tabs: !this.state.remove_all_tabs}, () =>\n                    console.log(this.state.remove_all_tabs));\n                this.loadTabs(json.resources);\n            }.bind(this);\n        }\n    }\n}\n\n loadJSON(json_value) {\n    this.setState({json: import_json(json_value)}, () => \n        console.log(this.state.json, 'json'));\n    localStorage.setItem(\"state\",JSON.stringify(get_sd()));\n    this.setState({current_sadface_doc: JSON.stringify(get_sd())}, () =>\n        console.log(this.state.current_sadface_doc, 'current_sadface_doc'));\n    //load any sources in the stored diagram state\n    window.onload = function () {\n        this.loadTabs(this.state.json.resources);\n    };\n    this.state.cy_data = export_cytoscape(this.state.json);\n    if(this.state.cy !== null)\n    {\n        this.state.cy.elements().remove();\n        this.state.cy.json({elements: JSON.parse(this.state.cy_data)});\n        //redraw_visualisation();\n    }\n}\n\n\n\ndownload(filename, text) {\n    /*\n    Downloads a file given its filename and its text using utf-8 charset\n    */\n    console.log(\"Downloading \"+filename);\n    var outfile = document.createElement(\"a\");\n    outfile.setAttribute(\"href\", \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text));\n    outfile.setAttribute(\"download\", filename);\n\n    outfile.style.display = \"none\";\n    document.body.appendChild(outfile);\n\n    outfile.click();\n\n    document.body.removeChild(outfile);\n}\n\n\nget_resource(resource_id){\n    /*\n    Retrieve the resource dict identified by the supplied resource ID\n\n    Returns: An resource dict\n    */\n    if(resource_id){\n        var resource;\n        const index = this.state.tabs.findIndex((tab) => tab.tab_id === resource_id);\n        const tabs = [...this.state.tabs]\n        resource = tabs[index];\n        return resource;\n    }\n}\n\nisTab_id(tab){\n    return tab.tab_id\n}\n\n\n\n\n\n\nloadJSON(){\n\n}\n\nloadTabs(tabs) {\n    console.log(tabs);\n   // this.state.tabs.forEach(function(tab) {\n     this.load_tab(tabs);\n// });\n}\n\nload_tab(resource) {\n    if (resource != null) {\n        var tab_id = resource.id;\n        this.add_tab(tab_id);\n      //  this.set_text_resource_title(tab_id, resource.metadata.title);\n      //  this.set_text_resource_content(tab_id, resource.content);\n    }\n}\n\nupdate_resource(resource_id, content, title) {\n    /*\n    Given an ID for an existing resource, update the content and metadata of the resource.\n    Updates the resource in sd;\n    */\n    \n\n    if (resource_id && (content || title)) {\n        console.log(\"update resource\");\n\n        var resource;\n        const index = this.state.tabs.findIndex((tab) => tab.tab_id === resource_id);\n        const tabs = [...this.state.tabs]\n        resource = tabs[index];\n\n        if (resource !== null && resource !== undefined) {\n            if (content !== null && content !== undefined) {\n                resource.content = content;\n            }\n            if (title !== null && title !== undefined) {\n                resource.title = title;\n            }\n          /*  this.state.sd.resources.forEach((res) => {\n                if(res.id === resource_id) {\n                    res = resource;\n                }\n            });*/\n        } else {\n            throw (\"Could not update the resource: \"+resource_id);\n        }\n        this.setState({tabs}, () =>{\n            console.log(\"update tabs\");\n        });\n    }\n}\n\n//Resource Pane Functions\nchange_title(tab_id, val) {\n    console.log(\"change title\" +tab_id+val);\n    this.set_text_resource_title(tab_id, val)\n}\n\nset_text_resource_title(tab_id, title){\n    console.log(\"set text resource title\" +tab_id + title)\n    this.update_resource(tab_id, null, title);\n//    this.update_local_storage();\n}\n\nchange_content(tab_id, val){\n    console.log(\"change content\" + tab_id + val);\n    this.set_text_resource_content(tab_id, val);\n}\n\nset_text_resource_content(tab_id, text){\n    this.update_resource(tab_id, text, null);\n    //update_local_storage();\n}\n\n// Slide In Functions\ntoggleResourcePane(){\n    this.setState({showResourcePane: !this.state.showResourcePane})\n}\n\n\nclear_local_storage() {\n    localStorage.clear();\n    window.location.reload(false);\n}\n\n setFileName(file_name){\n    console.log('filename APP');\n    this.setState({fileName: file_name}, () => \n      console.log(this.state.fileName, 'filename app'));\n  }\n\n\n\n\ndownload_sadface(){\n    console.log(\"download_sadface\")\n}\n\n\n\nload_demo_argument(){\n   var demo_sadface_doc = \"{\\\"analyst_email\\\":\\\"40170722@live.napier.ac.uk\\\",\\\"analyst_name\\\":\\\"Nathan Mair\\\",\\\"created\\\":\\\"2018-02-23T02:27:36\\\",\\\"edges\\\":[{\\\"id\\\":\\\"a1s1\\\",\\\"source_id\\\":\\\"a1\\\",\\\"target_id\\\":\\\"s1\\\"},{\\\"id\\\":\\\"a2s1\\\",\\\"source_id\\\":\\\"a2\\\",\\\"target_id\\\":\\\"s1\\\"},{\\\"id\\\":\\\"a3s2\\\",\\\"source_id\\\":\\\"a3\\\",\\\"target_id\\\":\\\"s2\\\"},{\\\"id\\\":\\\"s2a5\\\",\\\"source_id\\\":\\\"s2\\\",\\\"target_id\\\":\\\"a5\\\"},{\\\"id\\\":\\\"s1a4\\\",\\\"source_id\\\":\\\"s1\\\",\\\"target_id\\\":\\\"a4\\\"},{\\\"id\\\":\\\"a4s2\\\",\\\"source_id\\\":\\\"a4\\\",\\\"target_id\\\":\\\"s2\\\"}],\\\"edited\\\":\\\"2018-02-23T02:27:36\\\",\\\"id\\\":\\\"94a975db-25ae-4d25-93cc-1c07c932e2f9\\\",\\\"metadata\\\":{},\\\"nodes\\\":[{\\\"id\\\":\\\"a1\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"Every person is going to die\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a2\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You are a person\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a3\\\",\\\"metadata\\\":{\\\"test\\\":\\\"test\\\"},\\\"sources\\\":[],\\\"text\\\":\\\"If you are going to die then you should treasure every moment\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a4\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You are going to die\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"a5\\\",\\\"metadata\\\":{},\\\"sources\\\":[],\\\"text\\\":\\\"You should treasure every moment\\\",\\\"type\\\":\\\"atom\\\"},{\\\"id\\\":\\\"s1\\\",\\\"name\\\":\\\"Support\\\",\\\"type\\\":\\\"scheme\\\"},{\\\"id\\\":\\\"s2\\\",\\\"name\\\":\\\"Support\\\",\\\"type\\\":\\\"scheme\\\"}],\\\"resources\\\": []}\";\n\n    localStorage.setItem(\"state\",demo_sadface_doc);\n\n    this.setState({cy_data: export_cytoscape(import_json(demo_sadface_doc))}, () =>\n        console.log(this.state.cy_data, 'cy_data'));\n}\n\n\nrender(){\n\n    return (\n    \t<div>\n\n\n\n    \t<Menu \n        toggleResourcePane={this.toggleResourcePane}\n        mp_reset={this.mp_reset}\n        load_demo_argument={this.load_demo_argument}\n        set_analyst_name={this.set_analyst_name}\n        set_analyst_email={this.set_analyst_email}\n        download_sadface={this.download_sadface}\n        download_png={this.download_png}\n        download_jpg={this.download_jpg}\n        setFileName={this.setFileName}\n        fileManager={this.fileManager}\n\n        png={this.state.png}\n        jpg={this.state.jpg}\n\n        />\n\n        <MainUI\n        toggleSlideIn={() => this.toggleButton()}\n        addTab = {() => this.add_tab()}\n        tabs = {this.state.tabs}\n        getType={this.getType}\n        remove_tab={this.remove_tab}\n        fileManager={this.fileManager}\n        showResourcePane={this.state.showResourcePane}\n        current_tab={this.state.current_tab}\n        setActiveTab={this.setActiveTab}\n        fileManager={this.fileManager}\n        change_title={this.change_title}\n        change_content={this.change_content}\n        new_uuid = {this.new_uuid}\n        loadTabs= {this.loadTabs}\n        cy_data= {this.state.cy_data}\n\n        handleSetPng={this.handleSetPng}\n        handleSetJpg={this.handleSetJpg}\n\n        remove_all_tabs={this.state.remove_all_tabs}\n\n\n\n        />\n\n        </div>\n\n        );\n}\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
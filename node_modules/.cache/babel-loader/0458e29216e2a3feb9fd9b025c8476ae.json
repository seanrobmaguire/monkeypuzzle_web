{"ast":null,"code":"var _jsxFileName = \"/Users/gareth/Desktop/monkeypuzzle/src/Components/ResourcePane/TabBody.js\";\nimport React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\n\nclass TabBody extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      readOnly: true\n    }; //create ref\n\n    this.toggle_edit_lock = this.toggle_edit_lock.bind(this);\n    this.handleGetSelectedText = this.handleGetSelectedText.bind(this);\n  }\n\n  toggle_edit_lock() {\n    this.setState({\n      readOnly: !this.state.readOnly\n    }, () => console.log('content area locked'));\n  }\n\n  handleGetSelectedText() {\n    console.log(window.getSelection().toString(), \"handleSelectedText\");\n\n    if (window.getSelection) {\n      if (window.getSelection().toString().length > 0) {\n        console.log(window.getSelection().toString().length, \"Get selected text length\");\n        this.props.setSelectedText(window.getSelection().toString());\n      }\n    }\n    /*\n                if(window.getSelection().toString().length > 0){\n                    console.log(window.getSelection().toString(), 'getselection');\n                    this.props.setSelectedText(window.getSelection().toString())\n                } else {\n                    this.props.setSelectedText(null);\n                    this.props.clearSelection();\n                }\n            } else if (document.selection) {\n            }*/\n\n  }\n\n  render() {\n    const _this$props = this.props,\n          id = _this$props.id,\n          handleremove = _this$props.handleremove,\n          handleFileDownload = _this$props.handleFileDownload,\n          style = _this$props.style,\n          clickLoad = _this$props.clickLoad,\n          contentValue = _this$props.contentValue,\n          titleValue = _this$props.titleValue,\n          loadTxtRef = _this$props.loadTxtRef,\n          titleRef = _this$props.titleRef,\n          handleFileUpload = _this$props.handleFileUpload,\n          handleChange_title = _this$props.handleChange_title,\n          handleChangeContent = _this$props.handleChangeContent,\n          handleAtomFromText = _this$props.handleAtomFromText;\n    return React.createElement(\"div\", {\n      id: id + \"_body\",\n      className: \"resource_pane_tab_content\",\n      style: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"button\",\n      className: \"btn btn-default\",\n      title: \"Remove this tab from the resource pane\",\n      onClick: handleremove,\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-trash fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"file\",\n      id: \"load\" + id,\n      style: {\n        display: \"none\"\n      },\n      accept: \".txt\",\n      ref: loadTxtRef,\n      onChange: handleFileUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"button\",\n      id: \"load\" + id + \"_btn\",\n      className: \"btn btn-default\",\n      onClick: clickLoad,\n      title: \"Load a text file into this resource tab\",\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-upload fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"button\",\n      className: \"btn btn-default\",\n      onClick: handleFileDownload,\n      title: \"Save this resource tab to a text file\",\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-download fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Button, {\n      id: \"toggle_edit_lock_button\",\n      type: \"button\",\n      className: \"btn btn-default\",\n      title: \"Toggle editability of the content area\",\n      onClick: this.toggle_edit_lock,\n      variant: \"light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      id: \"toggle_edit_lock_icon_\" + id,\n      className: this.state.readOnly ? \"fa fa-lock fa-fw fa-lg\" : \"fa fa-unlock fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"button\",\n      className: \"btn btn-default\",\n      title: \"Add node from text selection\",\n      onClick: handleAtomFromText,\n      variant: \"light\",\n      disabled: this.props.focus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-puzzle-piece fa-fw fa-lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"textarea\", {\n      id: \"title_\" + id,\n      type: \"text\",\n      rows: \"1\",\n      style: {\n        resize: \"none\"\n      },\n      className: \"form-control\",\n      placeholder: \"The name of this resource...\",\n      onChange: handleChange_title,\n      ref: titleRef,\n      value: titleValue,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Content\"), React.createElement(\"div\", {\n      id: \"textarea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: id,\n      className: \"form-control\",\n      placeholder: \"Enter your source text here...\",\n      rows: \"20\",\n      ref: this.setTextInputRef,\n      onChange: handleChangeContent,\n      style: {\n        resize: \"vertical\",\n        minHeight: \"35px\"\n      },\n      readOnly: this.state.readOnly,\n      value: contentValue,\n      onMouseUp: this.handleGetSelectedText // onFocus={this.props.clearSelection}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default TabBody;","map":{"version":3,"sources":["/Users/gareth/Desktop/monkeypuzzle/src/Components/ResourcePane/TabBody.js"],"names":["React","Component","Button","TabBody","constructor","props","state","readOnly","toggle_edit_lock","bind","handleGetSelectedText","setState","console","log","window","getSelection","toString","length","setSelectedText","render","id","handleremove","handleFileDownload","style","clickLoad","contentValue","titleValue","loadTxtRef","titleRef","handleFileUpload","handleChange_title","handleChangeContent","handleAtomFromText","display","focus","resize","setTextInputRef","minHeight"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport Button from 'react-bootstrap/Button';\n\n\nclass TabBody extends Component {\n    constructor(props){\n        super(props);\n    \n\n        this.state = {\n            readOnly: true,\n        };\n        //create ref\n\n        this.toggle_edit_lock = this.toggle_edit_lock.bind(this);\n        this.handleGetSelectedText = this.handleGetSelectedText.bind(this);\n\n    }\n\n    toggle_edit_lock(){\n        this.setState({readOnly: !this.state.readOnly},() =>\n        console.log('content area locked'));\n    }\n\n\n    handleGetSelectedText(){\n\n        console.log(window.getSelection().toString(), \"handleSelectedText\");\n        if (window.getSelection) {\n\n            if(window.getSelection().toString().length > 0){\n                console.log(window.getSelection().toString().length, \"Get selected text length\");\n                this.props.setSelectedText(window.getSelection().toString()); \n            }\n        }\n           \n/*\n            if(window.getSelection().toString().length > 0){\n                console.log(window.getSelection().toString(), 'getselection');\n                this.props.setSelectedText(window.getSelection().toString())\n            } else {\n                this.props.setSelectedText(null);\n                this.props.clearSelection();\n            }\n        } else if (document.selection) {\n        }*/\n    }\n\n    render() { \n        const {\n            \n            id,\n            handleremove,\n            handleFileDownload,\n            style,\n            clickLoad,\n            contentValue,\n            titleValue,\n            //element references\n            loadTxtRef,\n            titleRef,\n\n            handleFileUpload,\n            handleChange_title,\n            handleChangeContent,\n            handleAtomFromText,\n\n        }=this.props\n\n\n\n        return (\n            <div id={id+\"_body\"} className=\"resource_pane_tab_content\" style={style}>\n                <form>\n                    <div className=\"form-group\">\n                        <Button \n                            type=\"button\" \n                            className=\"btn btn-default\" \n                            title=\"Remove this tab from the resource pane\"\n                            onClick={handleremove}\n                            variant=\"light\"\n                            >\n                                <i className=\"fa fa-trash fa-fw fa-lg\"></i>\n                            </Button>\n                            <input \n                                type=\"file\" \n                                id={\"load\" + id} \n                                style={{display: \"none\"}} \n                                accept=\".txt\" \n                                ref={loadTxtRef}\n                                onChange= {handleFileUpload}\n                            />\n                            <Button \n                                type=\"button\" \n                                id={\"load\" + id + \"_btn\"} \n                                className=\"btn btn-default\" \n                                onClick={clickLoad}\n\n                                title=\"Load a text file into this resource tab\"\n                                variant=\"light\"\n                            >\n                                <i className=\"fa fa-upload fa-fw fa-lg\"></i>\n                            </Button>\n                            <Button \n                                type=\"button\" \n                                className=\"btn btn-default\" \n                                onClick={handleFileDownload}\n                                title=\"Save this resource tab to a text file\"\n                                variant=\"light\"\n                            >\n                                <i className=\"fa fa-download fa-fw fa-lg\"></i>\n                            </Button>\n                            <Button id=\"toggle_edit_lock_button\" \n                                type=\"button\" \n                                className=\"btn btn-default\" \n                                title=\"Toggle editability of the content area\" \n                                onClick={ this.toggle_edit_lock}\n                                variant=\"light\"\n                            >\n                                <i \n                                    id={\"toggle_edit_lock_icon_\" + id} \n                                    className={(this.state.readOnly) ? \"fa fa-lock fa-fw fa-lg\" : \"fa fa-unlock fa-fw fa-lg\"}>\n                                </i>\n                            </Button>\n                            <Button \n                                type=\"button\" \n                                className=\"btn btn-default\" \n                                title=\"Add node from text selection\"\n                                onClick={handleAtomFromText}\n                                variant=\"light\"\n                                disabled={this.props.focus}\n                            >\n                                <i className=\"fa fa-puzzle-piece fa-fw fa-lg\"></i>\n                            </Button>\n                    </div>\n\n                    <div className=\"form-group\">\n                            <label>Title</label>\n                            <textarea \n                                id={\"title_\"+id} \n                                type=\"text\" \n                                rows=\"1\" \n                                style={{resize: \"none\"}} \n                                className=\"form-control\" \n                                placeholder=\"The name of this resource...\" \n                                onChange={handleChange_title}\n                                ref={titleRef}\n                                value={titleValue}\n                                >\n                            </textarea> \n                        <label>Content</label>\n                        <div id=\"textarea\">\n                            <textarea \n                                id={id} \n                                className=\"form-control\" \n                                placeholder=\"Enter your source text here...\" \n                                rows=\"20\" \n                                ref={this.setTextInputRef}\n                                onChange={handleChangeContent} \n                                style={{resize: \"vertical\", minHeight: \"35px\"}} \n                                readOnly={this.state.readOnly}\n                                value= {contentValue}\n                                onMouseUp = {this.handleGetSelectedText}\n                               // onFocus={this.props.clearSelection}\n                                >\n                            </textarea>\n                        </div>  \n                    </div> \n                </form>\n            </div>\n        );\n    }\n}   \n\nexport default TabBody;"]},"metadata":{},"sourceType":"module"}